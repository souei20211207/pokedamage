var haniwaza='アストラルビット,いにしえのうた,いわなだれ,うたかたのアリア,エアカッター,エレキネット,オーバードライブ,カウンター,かみなりあらし,キラースピン,ゴールドラッシュ,こがらしあらし,こごえるかぜ,こごえるせかい,こなゆき,こんげんのはどう,しおふき,じしん,しっとのほのお,じならし,じばく,シャカシャカほう,スケイルノイズ,スピードスター,だいばくはつ,ダイヤストーム,だくりゅう,たつまき,だんがいのつるぎ,チャームボイス,ドラゴンエナジー,なみのり,ねっさのあらし,ねっぷう,バークアウト,ハイパーボイス,ばくおんぱ,はっぱカッター,はなふぶき,パラボラチャージ,はるのあらし,ふぶき,ブリザードランス,ふんえん,ふんか,ぶんまわす,ヘドロウェーブ,ほうでん,ほうふく,マジカルシャイン,ミストバースト,ミラーコート,むしのていこう,メタルバースト,もえあがるいかり,やきつくす,ようかいえき,ワイドフォース,ワイドブレイカー';
haniwaza=haniwaza.split(',');

var otowaza='いにしえのうた,いびき,うたかたのアリア,エコーボイス,オーバードライブ,サイコノイズ,さわぐ,スケイルノイズ,チャームボイス,バークアウト,ハイパーボイス,ばくおんぱ,ぶきみなじゅもん,フレアソング,みわくのボイス,むしのさざめき,りんしょう';
otowaza=otowaza.split(',');

var zikawaza='イナズマドライブ,くさむすび,ドレインキッス,はなびらのまい,まとわりつく,10まんばりき,DDラリアット,Vジェネレート,アームハンマー,アイアンテール,アイアンヘッド,アイアンローラー,アイススピナー,アイスハンマー,アクアジェット,アクアステップ,アクアテール,アクアブレイク,アクセルブレイク,アクセルロック,アクロバット,あなをほる,あばれる,あんこくきょうだ,いあいぎり,イカサマ,いかりのまえば,いわくだき,インファイト,ウェーブタックル,ウッドハンマー,ウッドホーン,うっぷんばらし,えだづき,おどろかす,かいりき,カウンター,かえんぐるま,かかとおとし,かげうち,かたきうち,かみくだく,かみつく,かみなりのキバ,かみなりパンチ,がむしゃら,からげんき,ガリョウテンセイ,かわらわり,がんせきアックス,きあいパンチ,ギガインパクト,きしかいせい,きゅうけつ,きょけんとつげき,きょじゅうざん,きょじゅうだん,キラースピン,きりさく,クイックターン,くさわけ,くちばしキャノン,くらいつく,グラススライダー,クラブハンマー,クロスチョップ,クロスポイズン,げきりん,けたぐり,こうそくスピン,ゴーストダイブ,こおりのキバ,コメットパンチ,ころがる,サイコファング,サイコブレイド,サンダーダイブ,ジェットパンチ,シェルブレード,じごくづき,シザークロス,したでなめる,じたばた,じだんだ,しっぺがえし,しねんのずつき,しめつける,ジャイロボール,シャドークロー,シャドーダイブ,シャドーパンチ,じゃれつく,しんそく,スイープビンタ,すいりゅうれんだ,ずつき,すてみタックル,スパーク,スマートホーン,せいなるつるぎ,ソウルクラッシュ,ソーラーブレード,そらをとぶ,たいあたり,ダイビング,たきのぼり,たたきつける,ダブルアタック,ダブルウイング,ダメおし,ちきゅうなげ,ついばむ,つけあがる,つじぎり,つつく,つっぱり,つのでつく,つのドリル,つばさでうつ,つばめがえし,つるのムチ,であいがしら,てかげん,でんこうせっか,でんこうそうげき,どくづき,どくどくのキバ,どげざつき,ドゲザン,とっしん,とっておき,とどめばり,とびかかる,とびつく,とびはねる,とびひざげり,ともえなげ,ドラゴンクロー,ドラゴンダイブ,ドラゴンテール,ドラゴンハンマー,トリプルアクセル,トリプルキック,トリプルダイブ,ドリルくちばし,ドリルライナー,ドレインパンチ,トロピカルキック,どろぼう,とんぼがえり,にぎりつぶす,にどげり,ニトロチャージ,ねこだまし,ネズミざん,のしかかり,ハードプレス,ハイパードリル,はいよるいちげき,ばかぢから,はがねのつばさ,ばくれつパンチ,ハサミギロチン,はさむ,はたきおとす,はたく,はっけい,はやてがえし,バリアーラッシュ,バレットパンチ,パワーウィップ,パワフルエッジ,ヒートスタンプ,ひけん・ちえなみ,ひっかく,びりびりちくちく,ふいうち,フェイタルクロー,ぶちかまし,ふみつけ,フライングプレス,フレアドライブ,ブレイククロー,ブレイズキック,ブレイブバード,ふんどのこぶし,ぶんまわす,ヘビーボンバー,ホイールスピン,ポイズンテール,ほうふく,ほしがる,ほっぺすりすり,ボディプレス,ほのおのキバ,ほのおのパンチ,ほのおのムチ,ボルテッカー,まきつく,マッハパンチ,みだれづき,みだれひっかき,みねうち,むしくい,むねんのつるぎ,メガトンキック,メガトンパンチ,メガホーン,メタルクロー,メテオドライブ,もろはのずつき,やけっぱち,ゆきなだれ,らいげき,らいめいげり,リーフブレード,レイジングブル,れいとうパンチ,れんぞくぎり,ローキック,ワイドブレイカー,ワイルドボルト,わるあがき';
zikawaza=zikawaza.split(',');

var handouwaza="アフロブレイク.ウェーブタックル,ウッドハンマー,かかとおとし,サンダーダイブ,じごくぐるま,すてみタックル,とっしん,とびげり,とびひざげり,はめつのひかり,フレアドライブ,ブレイブバード,ボルテッカー,もろはのずつき,ワイルドボルト";
handouwaza=handouwaza.split(',');

var pantiwaza="アームハンマー,アイスハンマー,あんこくきょうだ,かみなりパンチ,きあいパンチ,グロウパンチ,コメットパンチ,ジェットパンチ,シャドーパンチ,すいりゅうれんだ,スカイアッパー,ダブルパンツァー,ドレインパンチ,ばくれつパンチ,バレットパンチ,ピヨピヨパンチ,ぶちかまし,プラズマフィスト,ふんどのこぶし,ほのおのパンチ,マッハパンチ,メガトンパンチ,れいとうパンチ,れんぞくパンチ";
pantiwaza=pantiwaza.split(',');

var tuikawaza='バークアウト,ナイトバースト,かみつく,かみくだく,あくのはどう,げんしのちから,がんせきふうじ,いわなだれ,ねんりき,じんつうりき,しねんのずつき,サイコキネシス,サイケこうせん,ローキック,はっけい,ばくれつパンチ,けたぐり,きあいだま,いわくだき,りんごさん,トロピカルキック,エナジーボール,Gのちから,シャドーボール,おどろかす,れいとうビーム,れいとうパンチ,フリーズドライ,ふぶき,つららおとし,こごえるかぜ,こおりのキバ,オーロラビーム,マッドショット,どろかけ,だいちのちから,じならし,ほっぺすりすり,ほうでん,びりびりちくちく,でんじほう,でんきショック,チャージビーム,スパーク,かみなりパンチ,かみなりのキバ,かみなり,エレキネット,10まんボルト,ようかいえき,ポイズンテール,ヘドロばくだん,ヘドロこうげき,ヘドロウェーブ,どくばり,どくどくのキバ,どくづき,ダストシュート,スモッグ,クロスポイズン,ワイドブレイカー,りゅうのいぶき,ドラゴンダイブ,たつまき,ブレイククロー,ふみつけ,のしかかり,ねこだまし,トライアタック,ずつき,こうそくスピン,いびき,ラスターカノン,メタルクロー,はがねのつばさ,コメットパンチ,アイアンヘッド,アイアンテール,とびはねる,ゴッドバード,エアスラッシュ,ムーンフォース,ソウルクラッシュ,じゃれつく,れんごく,マジカルフレイム,ほのおのムチ,ほのおのまい,ほのおのパンチ,ほのおのキバ,ふんえん,ひのこ,ねっぷう,だいもんじ,かえんほうしゃ,みずのはどう,バブルこうせん,だくりゅう,たきのぼり,シェルブレード,アクアブレイク,むしのていこう,むしのさざめき,はいよるいちげき,とびかかる';
tuikawaza=tuikawaza.split(',');

var kamiwaza="エラがみ,かみくだく,かみつく,かみなりのキバ,くらいつく,こおりのキバ,サイコファング,どくどくのキバ,ひっさつまえば,ほのおのキバ";
kamiwaza=kamiwaza.split(',');

var hadouwaza="あくのはどう,こんげんのはどう,だいちのはどう,はどうだん,みずのはどう,りゅうのはどう";
hadouwaza=hadouwaza.split('.');

function dame(){
	var syoki=4096;
	var aa;
	var dd;
	var aa2;
	var dd2;
	var m1=[];
	var m2=[];
	for(i=0;i<12;i++){
		m1[i]=syoki;
		m2[i]=syoki;
	}
	
	var waza1_name=waza1.value;
	var waza2_name=waza2.value;

	var key1=waza1name.innerHTML;
	var key1s=key1.split('、');
	key1s[0]=(key1s[0].split('：'))[1];
	key1s[1]=(key1s[1].split('：'))[1];
	key1s[2]=(key1s[2].split('）'))[0];
	var key4=waza2name.innerHTML;
	var key4s=key4.split('、');
	key4s[0]=(key4s[0].split('：'))[1];
	key4s[1]=(key4s[1].split('：'))[1];
	key4s[2]=(key4s[2].split('）'))[0];
	
	var level1=Number(level.value);
	var level2=Number(slevel.value);
	
	var key2=poketype.innerHTML;
	var key2s=key2.split(",");
	var key3=spoketype.innerHTML;
	var key3s=key3.split(",");
	
	var key5s=sonotalist.value.split(",");
	var key6s=ssonotalist.value.split(",");
	
	var iry=Number(key1s[0]);
	var iry2=Number(key4s[0]);
	
	if(waza1_name=="ダメおし"){
		if(subuc.checked){
			iry=2*iry;
		}
	}
	if(waza2_name=="ダメおし"){
		if(ssubuc.checked){
			iry2=2*iry2;
		}
	}
	if(waza1_name=="アクロバット" && motimono.value=="なし"){
		iry=2*iry;
	}
	if(waza2_name=="アクロバット" && smotimono.value=="なし"){
		iry2=2*iry2;
	}
	
	var tai=4096;
	var tai2=4096;
	var tt=0;
	var tt2=0;
	if(key2s.indexOf(key1s[1])!=-1){
		if(terasu.value==key1s[1]){
			if(tokusei.value=="てきおうりょく" && !tmukou.checked){
				tai=2.25*tai;
			}else{
				tai=2*tai;
			}
		}else if(terasu.value=="ステラ"){
			tai=2*tai;
		}else{
			tai=1.5*tai;
		}
		if(iry<=60){
			if(tokusei.value=="テクニシャン" && !tmukou.checked){
				tt=Math.round(6144*iry/syoki);
				if(tt<=60){
					iry=60;
				}
			}else{
				iry=60;
			}
		}
	}else{
		if(terasu.value==key1s[1]){
			if(tokusei.value=="てきおうりょく" && !tmukou.checked){
				tai=2*tai;
			}else{
				tai=1.5*tai;
			}
		}else if(terasu.value=="ステラ"){
			tai=4915;
		}else{
			tai=tai;
		}
	}
	if(key3s.indexOf(key4s[1])!=-1){
		if(sterasu.value==key4s[1]){
			if(stokusei.value=="てきおうりょく" && !stmukou.checked){
				tai2=2.25*tai2;
			}else{
				tai2=2*tai2;
			}
		}else if(sterasu.value=="ステラ"){
			tai2=2*tai2;
		}else{
			tai2=1.5*tai2;
		}
		if(iry2<=60){
			iry2=60;
		}
	}else{
		if(sterasu.value==key4s[1]){
			if(stokusei.value=="てきおうりょく" && !stmukou.checked){
				tai2=2*tai2;
			}else{
				tai2=1.5*tai2;
			}
		}else if(sterasu.value=="ステラ"){
			tai2=4915;
		}else{
			tai2=tai2;
		}
	}
	
	//とうそうしん下降
	if(tokusei.value=="とうそうしん"){
	}
	if(stokusei.value=="とうそうしん"){
	}
	
	//スキン系
	if(key1s[1]=="ノーマル"){
		if(tokusei.value=="エレキスキン" && !tmukou.checked){
			key1s[1]="でんき";
			iry=Math.round(4915*iry/syoki);
		}else if(tokusei.value=="フェアリースキン" && !tmukou.checked){
			key1s[1]="フェアリー";
			iry=Math.round(4915*iry/syoki);
		}else if(tokusei.value=="スカイスキン" && !tmukou.checked){
			key1s[1]="ひこう";
			iry=Math.round(4915*iry/syoki);
		}else if(tokusei.value=="フリーズスキン" && !tmukou.checked){
			key1s[1]="こおり";
			iry=Math.round(4915*iry/syoki);
		}
	}
	if(key4s[1]=="ノーマル"){
		if(stokusei.value=="エレキスキン" && !stmukou.checked){
			key4s[1]="でんき";
			iry2=Math.round(4915*iry2/syoki);
		}else if(stokusei.value=="フェアリースキン" && !stmukou.checked){
			key4s[1]="フェアリー";
			iry2=Math.round(4915*iry2/syoki);
		}else if(stokusei.value=="スカイスキン" && !stmukou.checked){
			key4s[1]="ひこう";
			iry2=Math.round(4915*iry2/syoki);
		}else if(stokusei.value=="フリーズスキン" && !stmukou.checked){
			key4s[1]="こおり";
			iry2=Math.round(4915*iry2/syoki);
		}
	}
	
	//すてみ
	if(tokusei.value=="すてみ" && !tmukou.checked){
		if(handouwaza.indexOf(waza1_name)!=-1){
			iry=Math.round(4915*iry/syoki);
		}
	}
	if(stokusei.value=="すてみ" && !stmukou.checked){
		if(handouwaza.indexOf(waza2_name)!=-1){
			iry2=Math.round(4915*iry2/syoki);
		}
	}
	
	//てつのこぶし
	if(tokusei.value=="てつのこぶし" && !tmukou.checked){
		if(pantiwaza.indexOf(waza1_name)!=-1){
			iry=Math.round(4915*iry/syoki);
		}
	}
	if(stokusei.value=="てつのこぶし" && !stmukou.checked){
		if(pantiwaza.indexOf(waza2_name)!=-1){
			iry2=Math.round(4915*iry2/syoki);
		}
	}
	
	//とうそうしん上昇
	if(tokusei.value=="とうそうしん"){
	}
	if(stokusei.value=="とうそうしん"){
	}
	
	//バッテリー
	if(key5s.indexOf("バッテリー")!=-1){
		if(key1s[2]=="特殊"){
			iry=Math.round(5325*iry/syoki);
		}
	}
	if(key6s.indexOf("バッテリー")!=-1){
		if(key4s[2]=="特殊"){
			iry2=Math.round(5325*iry2/syoki);
		}
	}
	
	//パワースポット
	if(key5s.indexOf("パワースポット")!=-1){
		iry=Math.round(5325*iry/syoki);
	}
	if(key6s.indexOf("パワースポット")!=-1){
		iry2=Math.round(5325*iry2/syoki);
	}
	
	//アナライズ
	if(tokusei.value=="アナライズ" && !tmukou.checked){
		iry=Math.round(5325*iry/syoki);
	}
	if(stokusei.value=="アナライズ" && !stmukou.checked){
		iry2=Math.round(5325*iry2/syoki);
	}
	
	//かたいつめ
	if(tokusei.value=="かたいツメ" && !tmukou.checked){
		if(zikawaza.indexOf(waza1_name)!=-1){
			iry=Math.round(5325*iry/syoki);
		}
	}
	if(stokusei.value=="かたいツメ" && !stmukou.checked){
		if(zikawaza.indexOf(waza2_name)!=-1){
			iry2=Math.round(5325*iry2/syoki);
		}
	}
	
	//すなのちから
	if(tokusei.value=="すなのちから" && !tmukou.checked){
		if(tenki.value=="すなあらし" && key5s.indexOf("ノーてんき")==-1 && key5s.indexOf("エアロック")==-1 && key6s.indexOf("ノーてんき")==-1 && key6s.indexOf("エアロック")==-1){
			if(key1s[1]=="いわ" || key1s[1]=="はがね" || key1s[1]=="じめん"){
				iry=Math.round(5325*iry/syoki);
			}
		}
	}
	if(stokusei.value=="すなのちから" && !stmukou.checked){
		if(tenki.value=="すなあらし" && key5s.indexOf("ノーてんき")==-1 && key5s.indexOf("エアロック")==-1 && key6s.indexOf("ノーてんき")==-1 && key6s.indexOf("エアロック")==-1){
			if(key4s[1]=="いわ" || key4s[1]=="はがね" || key4s[1]=="じめん"){
				iry2=Math.round(5325*iry2/syoki);
			}
		}
	}
	
	//ちからずく
	if(tokusei.value=="ちからずく" && !tmukou.checked){
		if(tuikawaza.indexOf(waza1_name)!=-1){
			iry=Math.round(5325*iry/syoki);
		}
	}
	if(stokusei.value=="ちからずく" && !stmukou.checked){
		if(tuikawaza.indexOf(waza2_name)!=-1){
			iry2=Math.round(5325*iry2/syoki);
		}
	}
	
	//パンクロック
	if(tokusei.value=="パンクロック" && !tmukou.checked){
		if(otowaza.indexOf(waza1_name)!=-1){
			iry=Math.round(5325*iry/syoki);
		}
		if(otowaza.indexOf(waza2_name)!=-1){
			if(stokusei.value!="かたやぶり"){
				m2[4]=0.5*m2[4];
			}else if(stmukou.checked){
				m2[4]=0.5*m2[4];
			}
		}
	}
	if(stokusei.value=="パンクロック" && !stmukou.checked){
		if(otowaza.indexOf(waza2_name)!=-1){
			iry2=Math.round(5325*iry2/syoki);
		}
		if(otowaza.indexOf(waza1_name)!=-1){
			if(tokusei.value!="かたやぶり"){
				m1[4]=0.5*m1[4];
			}else if(tmukou.checked){
				m1[4]=0.5*m1[4];
			}
		}
	}
	
	//がんじょうあご
	if(tokusei.value=="がんじょうあご" && !tmukou.checked){
		if(kamiwaza.indexOf(waza1_name)!=-1){
			iry=Math.round(6144*iry/syoki);
		}
	}
	if(stokusei.value=="がんじょうあご" && !stmukou.checked){
		if(kamiwaza.indexOf(waza2_name)!=-1){
			iry2=Math.round(6144*iry2/syoki);
		}
	}
	
	//テクニシャン
	if(tokusei.value=="テクニシャン" && !tmukou.checked){
		if(Number(key1s[0])<=60){
			if(tt==0){
				iry=Math.round(6144*iry/syoki);
			}else if(tt>60){
				iry=Math.round(6144*iry/syoki);
			}
		}
	}
	if(stokusei.value=="テクニシャン" && !stmukou.checked){
		if(Number(key4s[0])<=60){
			if(tt2==0){
				iry2=Math.round(6144*iry2/syoki);
			}else if(tt2>60){
				iry2=Math.round(6144*iry2/syoki);
			}
		}
	}
	
	//どくぼうそう
	if(tokusei.value=="どくぼうそう" && !tmukou.checked && ijo.value=="どく" && key1s[2]=="物理"){
		iry=Math.round(6144*iry/syoki);
	}
	if(stokusei.value=="どくぼうそう" && !stmukou.checked && sijo.value=="どく" && key4s[2]=="物理"){
		iry2=Math.round(6144*iry2/syoki);
	}
	
	//ねつぼうそう
	if(tokusei.value=="ねつぼうそう" && !tmukou.checked && ijo.value=="やけど" && key1s[2]=="特殊"){
		iry=Math.round(6144*iry/syoki);
	}
	if(stokusei.value=="ねつぼうそう" && !stmukou.checked && sijo.value=="やけど" && key4s[2]=="特殊"){
		iry2=Math.round(6144*iry2/syoki);
	}
	
	//はがねのせいしん
	if(key5s.indexOf("はがねのせいしん")!=-1 && key1s[1]=="はがね"){
		iry=Math.round(6144*iry/syoki);
	}
	if(key6s.indexOf("はがねのせいしん")!=-1 && key4s[1]=="はがね"){
		iry2=Math.round(6144*iry2/syoki);
	}
	
	//メガランチャー
	if(tokusei.value=="メガランチャー" && !tmukou.checked){
		if(hadouwaza.indexOf(waza1_name)!=-1){
			iry=Math.round(6144*iry/syoki);
		}
	}
	if(stokusei.value=="メガランチャー" && !stmukou.checked){
		if(hadouwaza.indexOf(waza2_name)!=-1){
			iry2=Math.round(6144*iry2/syoki);
		}
	}
	
	//たいねつ
	if(tokusei.value=="たいねつ" && !tmukou.checked && key4s[1]=="ほのお"){
		iry2=Math.round(2048*iry2/syoki);
	}
	if(stokusei.value=="たいねつ" && !stmukou.checked && key1s[1]=="ほのお"){
		iry=Math.round(2048*iry/syoki);
	}
	
	//かんそうはだ
	if(tokusei.value=="かんそうはだ" && !tmukou.checked && key4s[1]=="ほのお"){
		iry2=Math.round(5120*iry2/syoki);
	}
	if(stokusei.value=="かんそうはだ" && !stmukou.checked && key1s[1]=="ほのお"){
		iry=Math.round(5120*iry/syoki);
	}
	
	//ちからのハチマキ
	if(motimono.value=="ちからのハチマキ" && key1s[2]=="物理"){
		iry=Math.round(4505*iry/syoki);
	}
	if(smotimono.value=="ちからのハチマキ" && key4s[2]=="物理"){
		iry2=Math.round(4505*iry2/syoki);
	}
	
	//ものしりメガネ
	if(motimono.value=="ものしりメガネ" && key1s[2]=="特殊"){
		iry=Math.round(4505*iry/syoki);
	}
	if(smotimono.value=="ものしりメガネ" && key4s[2]=="特殊"){
		iry2=Math.round(4505*iry2/syoki);
	}
	
	//タイプ強化系アイテム
	if(motimono.value=="タイプ強化系アイテム"){
		iry=Math.round(4915*iry/syoki);
	}
	if(smotimono.value=="タイプ強化系アイテム"){
		iry2=Math.round(4915*iry2/syoki);
	}
	
	//こころのしずく、こんごうだま、しらたま、はっきんだま
	if(motimono.value=="こころのしずく" && name.value=="ラティオス"){
		if(key1s[1]=="ドラゴン" || key1s[1]=="エスパー"){
			iry=Math.round(4915*iry/syoki);
		}
	}else if(motimono.value=="こころのしずく" && name.value=="ラティアス"){
		if(key1s[1]=="ドラゴン" || key1s[1]=="エスパー"){
			iry=Math.round(4915*iry/syoki);
		}
	}else if(motimono.value=="こんごうだま" && name.value=="ディアルガ"){
		if(key1s[1]=="ドラゴン" || key1s[1]=="はがね"){
			iry=Math.round(4915*iry/syoki);
		}
	}else if(motimono.value=="しらたま" && name.value=="パルキア"){
		if(key1s[1]=="ドラゴン" || key1s[1]=="みず"){
			iry=Math.round(4915*iry/syoki);
		}
	}else if(motimono.value=="はっきんだま" && name.value=="ギラティナ"){
		if(key1s[1]=="ドラゴン" || key1s[1]=="ゴースト"){
			iry=Math.round(4915*iry/syoki);
		}
	}
	if(smotimono.value=="こころのしずく" && sname.value=="ラティオス"){
		if(key4s[1]=="ドラゴン" || key4s[1]=="エスパー"){
			iry2=Math.round(4915*iry2/syoki);
		}
	}else if(smotimono.value=="こころのしずく" && sname.value=="ラティアス"){
		if(key4s[1]=="ドラゴン" || key4s[1]=="エスパー"){
			iry2=Math.round(4915*iry2/syoki);
		}
	}else if(smotimono.value=="こんごうだま" && sname.value=="ディアルガ"){
		if(key4s[1]=="ドラゴン" || key4s[1]=="はがね"){
			iry2=Math.round(4915*iry2/syoki);
		}
	}else if(smotimono.value=="しらたま" && sname.value=="パルキア"){
		if(key4s[1]=="ドラゴン" || key4s[1]=="みず"){
			iry2=Math.round(4915*iry2/syoki);
		}
	}else if(smotimono.value=="はっきんだま" && sname.value=="ギラティナ"){
		if(key4s[1]=="ドラゴン" || key4s[1]=="ゴースト"){
			iry2=Math.round(4915*iry2/syoki);
		}
	}
	
	//ノーマルジュエル
	if(motimono.value=="ノーマルジュエル" && key1s[1]=="ノーマル"){
		iry=Math.round(5325*iry/syoki);
	}
	if(smotimono.value=="ノーマルジュエル" && key4s[1]=="ノーマル"){
		iry2=Math.round(5325*iry2/syoki);
	}
	
	//ソーラービーム
	if(tenki.value=="あめ" || tenki.value=="ゆき" || tenki.value=="すなあらし"){
		if(key5s.indexOf("ノーてんき")==-1 && key5s.indexOf("エアロック")==-1 && key6s.indexOf("ノーてんき")==-1 && key6s.indexOf("エアロック")==-1){
			if(motimono.value!="ばんのうがさ"){
				if(waza1_name=="ソーラービーム" || waza1_name=="ソーラーブレード"){
					iry=Math.round(2048*iry/syoki);
				}
			}
			if(smotimono.value!="ばんのうがさ"){
				if(waza2_name=="ソーラービーム" || waza2_name=="ソーラーブレード"){
					iry2=Math.round(2048*iry2/syoki);
				}
			}
		}
	}
	
	//ハイドロスチーム
	if(tenki.value=="はれ"){
		if(key5s.indexOf("ノーてんき")==-1 && key5s.indexOf("エアロック")==-1 && key6s.indexOf("ノーてんき")==-1 && key6s.indexOf("エアロック")==-1){
			if(motimono.value!="ばんのうがさ"){
				if(waza1_name=="ハイドロスチーム"){
					iry=Math.round(6144*iry/syoki);
				}
			}
			if(smotimono.value!="ばんのうがさ"){
				if(waza2_name=="ハイドロスチーム"){
					iry2=Math.round(6144*iry2/syoki);
				}
			}
		}
	}
	
	//Gのちから
	if(key5s.indexOf("じゅうりょく")!=-1 || key6s.indexOf("じゅうりょく")!=-1){
		if(waza1_name=="Gのちから"){
			iry=Math.round(6144*iry/syoki);
		}
		if(waza2_name=="Gのちから"){
			iry2=Math.round(6144*iry2/syoki);
		}
	}
	
	//はたきおとす
	if(waza1_name=="はたきおとす" && smotimono.value!="なし"){
		iry=Math.round(6144*iry/syoki);
	}
	if(waza2_name=="はたきおとす" && motimono.value!="なし"){
		iry2=Math.round(6144*iry2/syoki);
	}
	
	//ミストバースト
	if(waza1_name=="ミストバースト" && firudo.value=="ミストフィールド"){
		if(key5s.indexOf("じゅうりょく")!=-1){
			iry=Math.round(6144*iry/syoki);
		}else if(key2s.indexOf("ひこう")==-1){
			if(terasu.value!="ひこう"){
				if(tokusei.value!="ふゆう"){
					iry=Math.round(6144*iry/syoki);
				}else if(tmukou.checked){
					iry=Math.round(6144*iry/syoki);
				}
			}
		}else if(key2s.indexOf("ひこう")!=-1){
			if(terasu.value!="ひこう" && terasu.value!="なし"){
				if(tokusei.value!="ふゆう"){
					iry=Math.round(6144*iry/syoki);
				}else if(tmukou.checked){
					iry=Math.round(6144*iry/syoki);
				}
			}
		}
	}
	if(waza2_name=="ミストバースト" && sfirudo.value=="ミストフィールド"){
		if(key6s.indexOf("じゅうりょく")!=-1){
			iry2=Math.round(6144*iry2/syoki);
		}else if(key3s.indexOf("ひこう")==-1){
			if(sterasu.value!="ひこう"){
				if(stokusei.value!="ふゆう"){
					iry2=Math.round(6144*iry2/syoki);
				}else if(stmukou.checked){
					iry2=Math.round(6144*iry2/syoki);
				}
			}
		}else if(key3s.indexOf("ひこう")!=-1){
			if(sterasu.value!="ひこう" && sterasu.value!="なし"){
				if(stokusei.value!="ふゆう"){
					iry2=Math.round(6144*iry2/syoki);
				}else if(stmukou.checked){
					iry2=Math.round(6144*iry2/syoki);
				}
			}
		}
	}
	
	//ワイドフォース
	if(waza1_name=="ワイドフォース" && firudo.value=="サイコフィールド"){
		if(key5s.indexOf("じゅうりょく")!=-1){
			iry=Math.round(6144*iry/syoki);
		}else if(key2s.indexOf("ひこう")==-1){
			if(terasu.value!="ひこう"){
				if(tokusei.value!="ふゆう"){
					iry=Math.round(6144*iry/syoki);
				}else if(tmukou.checked){
					iry=Math.round(6144*iry/syoki);
				}
			}
		}else if(key2s.indexOf("ひこう")!=-1){
			if(terasu.value!="ひこう" && terasu.value!="なし"){
				if(tokusei.value!="ふゆう"){
					iry=Math.round(6144*iry/syoki);
				}else if(tmukou.checked){
					iry=Math.round(6144*iry/syoki);
				}
			}
		}
	}
	if(waza2_name=="ワイドフォース" && sfirudo.value=="サイコフィールド"){
		if(key6s.indexOf("じゅうりょく")!=-1){
			iry2=Math.round(6144*iry2/syoki);
		}else if(key3s.indexOf("ひこう")==-1){
			if(sterasu.value!="ひこう"){
				if(stokusei.value!="ふゆう"){
					iry2=Math.round(6144*iry2/syoki);
				}else if(stmukou.checked){
					iry2=Math.round(6144*iry2/syoki);
				}
			}
		}else if(key3s.indexOf("ひこう")!=-1){
			if(sterasu.value!="ひこう" && sterasu.value!="なし"){
				if(stokusei.value!="ふゆう"){
					iry2=Math.round(6144*iry2/syoki);
				}else if(stmukou.checked){
					iry2=Math.round(6144*iry2/syoki);
				}
			}
		}
	}
	
	//てだすけ
	if(key5s.indexOf("てだすけ")!=-1){
		iry=Math.round(6144*iry/syoki);
	}
	if(key6s.indexOf("てだすけ")!=-1){
		iry2=Math.round(6144*iry2/syoki);
	}
	
	//じゅうでん	
	if(key5s.indexOf("じゅうでん")!=-1 && key1s[1]=="でんき"){
		iry=Math.round(8192*iry/syoki);
	}
	if(key6s.indexOf("じゅうでん")!=-1 && key4s[1]=="でんき"){
		iry2=Math.round(8192*iry2/syoki);
	}
	
	//うっぷんばらし
	if(waza1_name=="うっぷんばらし"){
		if(subuc.checked){
			iry=Math.round(8192*iry/syoki);
		}
	}
	if(waza2_name=="うっぷんばらし"){
		if(ssubuc.checked){
			iry2=Math.round(8192*iry2/syoki);
		}
	}
	
	//かたきうち
	if(waza1_name=="かたきうち"){
		if(subuc.checked){
			iry=Math.round(8192*iry/syoki);
		}
	}
	if(waza2_name=="かたきうち"){
		if(ssubuc.checked){
			iry2=Math.round(8192*iry2/syoki);
		}
	}
	
	//からげんき
	if(waza1_name=="からげんき"){
		if(ijo.value=="やけど" || ijo.value=="どく" || ijo.value=="まひ"){
			iry=Math.round(8192*iry/syoki);
		}
	}
	if(waza2_name=="からげんき"){
		if(sijo.value=="やけど" || sijo.value=="どく" || sijo.value=="まひ"){
			iry2=Math.round(8192*iry2/syoki);
		}
	}
	
	//クロスサンダー・クロスフレイム
	if(waza1_name=="クロスサンダー"){
		if(subuc.checked){
			iry=Math.round(8192*iry/syoki);
		}
	}
	if(waza2_name=="クロスサンダー"){
		if(ssubuc.checked){
			iry2=Math.round(8192*iry2/syoki);
		}
	}
	if(waza1_name=="クロスフレイム"){
		if(subuc.checked){
			iry=Math.round(8192*iry/syoki);
		}
	}
	if(waza2_name=="クロスフレイム"){
		if(ssubuc.checked){
			iry2=Math.round(8192*iry2/syoki);
		}
	}
	
	//しおみず
	if(waza1_name=="しおみず"){
		if(subuc.checked){
			iry=Math.round(8192*iry/syoki);
		}
	}
	if(waza2_name=="しおみず"){
		if(ssubuc.checked){
			iry2=Math.round(8192*iry2/syoki);
		}
	}
	
	//ベノムショック
	if(waza1_name=="ベノムショック"){
		if(sijo.value=="どく"){
			iry=Math.round(8192*iry/syoki);
		}
	}
	if(waza2_name=="ベノムショック"){
		if(ijo.value=="どく"){
			iry2=Math.round(8192*iry2/syoki);
		}
	}
	
	//ライジングボルト
	if(waza1_name=="ライジングボルト"){
		if(firudo.value=="エレキフィールド"){
			if(key6s.indexOf("じゅうりょく")!=-1){
				iry=Math.round(8192*iry/syoki);
			}else if(key3s.indexOf("ひこう")==-1){
				if(sterasu.value!="ひこう"){
					if(stokusei.value!="ふゆう"){
						iry=Math.round(8192*iry/syoki);
					}else if(stmukou.checked){
						iry=Math.round(8192*iry/syoki);
					}
				}
			}else if(key3s.indexOf("ひこう")!=-1){
				if(sterasu.value!="ひこう" && sterasu.value!="なし"){
					if(stokusei.value!="ふゆう"){
						iry=Math.round(8192*iry/syoki);
					}else if(stmukou.checked){
						iry=Math.round(8192*iry/syoki);
					}
				}
			}
		}
	}
	if(waza2_name=="ライジングボルト"){
		if(firudo.value=="エレキフィールド"){
			if(key5s.indexOf("じゅうりょく")!=-1){
				iry2=Math.round(8192*iry2/syoki);
			}else if(key2s.indexOf("ひこう")==-1){
				if(terasu.value!="ひこう"){
					if(tokusei.value!="ふゆう"){
						iry2=Math.round(8192*iry2/syoki);
					}else if(tmukou.checked){
						iry2=Math.round(8192*iry2/syoki);
					}
				}
			}else if(key2s.indexOf("ひこう")!=-1){
				if(terasu.value!="ひこう" && terasu.value!="なし"){
					if(tokusei.value!="ふゆう"){
						iry2=Math.round(8192*iry2/syoki);
					}else if(tmukou.checked){
						iry2=Math.round(8192*iry2/syoki);
					}
				}
			}
		}
	}
	
	//フィールド(弱化)
	if(firudo.value=="グラスフィールド"){
		if(key6s.indexOf("じゅうりょく")!=-1){
			if(waza1_name=="じしん" || waza1_name=="じならし"){
				iry=Math.round(2048*iry/syoki);
			}
		}else if(key3s.indexOf("ひこう")==-1){
			if(sterasu.value!="ひこう"){
				if(stokusei.value!="ふゆう"){
					if(waza1_name=="じしん" || waza1_name=="じならし"){
						iry=Math.round(2048*iry/syoki);
					}
				}else if(stmukou.checked){
					if(waza1_name=="じしん" || waza1_name=="じならし"){
						iry=Math.round(2048*iry/syoki);
					}
				}
			}
		}else if(key3s.indexOf("ひこう")!=-1){
			if(sterasu.value!="ひこう" && sterasu.value!="なし"){
				if(stokusei.value!="ふゆう"){
					if(waza1_name=="じしん" || waza1_name=="じならし"){
						iry=Math.round(2048*iry/syoki);
					}
				}else if(stmukou.checked){
					if(waza1_name=="じしん" || waza1_name=="じならし"){
						iry=Math.round(2048*iry/syoki);
					}
				}
			}
		}
		if(key5s.indexOf("じゅうりょく")!=-1){
			if(waza2_name=="じしん" || waza2_name=="じならし"){
				iry2=Math.round(2048*iry2/syoki);
			}
		}else if(key2s.indexOf("ひこう")==-1){
			if(terasu.value!="ひこう"){
				if(tokusei.value!="ふゆう"){
					if(waza2_name=="じしん" || waza2_name=="じならし"){
						iry2=Math.round(2048*iry2/syoki);
					}
				}else if(tmukou.checked){
					if(waza2_name=="じしん" || waza2_name=="じならし"){
						iry2=Math.round(2048*iry2/syoki);
					}
				}
			}
		}else if(key2s.indexOf("ひこう")!=-1){
			if(terasu.value!="ひこう" && terasu.value!="なし"){
				if(tokusei.value!="ふゆう"){
					if(waza2_name=="じしん" || waza2_name=="じならし"){
						iry2=Math.round(2048*iry2/syoki);
					}
				}else if(tmukou.checked){
					if(waza2_name=="じしん" || waza2_name=="じならし"){
						iry2=Math.round(2048*iry2/syoki);
					}
				}
			}
		}
	}
	if(firudo.value=="ミストフィールド"){
		if(key6s.indexOf("じゅうりょく")!=-1){
			if(key1s[1]=="ドラゴン"){
				iry=Math.round(2048*iry/syoki);
			}
		}else if(key3s.indexOf("ひこう")==-1){
			if(sterasu.value!="ひこう"){
				if(stokusei.value!="ふゆう"){
					if(key1s[1]=="ドラゴン"){
						iry=Math.round(2048*iry/syoki);
					}
				}else if(stmukou.checked){
					if(key1s[1]=="ドラゴン"){
						iry=Math.round(2048*iry/syoki);
					}
				}
			}
		}else if(key3s.indexOf("ひこう")!=-1){
			if(sterasu.value!="ひこう" && sterasu.value!="なし"){
				if(stokusei.value!="ふゆう"){
					if(key1s[1]=="ドラゴン"){
						iry=Math.round(2048*iry/syoki);
					}
				}else if(stmukou.checked){
					if(key1s[1]=="ドラゴン"){
						iry=Math.round(2048*iry/syoki);
					}
				}
			}
		}
		if(key5s.indexOf("じゅうりょく")!=-1){
			if(key4s[1]=="ドラゴン"){
				iry2=Math.round(2048*iry2/syoki);
			}
		}else if(key2s.indexOf("ひこう")==-1){
			if(terasu.value!="ひこう"){
				if(tokusei.value!="ふゆう"){
					if(key4s[1]=="ドラゴン"){
						iry2=Math.round(2048*iry2/syoki);
					}
				}else if(tmukou.checked){
					if(key4s[1]=="ドラゴン"){
						iry2=Math.round(2048*iry2/syoki);
					}
				}
			}
		}else if(key2s.indexOf("ひこう")!=-1){
			if(terasu.value!="ひこう" && terasu.value!="なし"){
				if(tokusei.value!="ふゆう"){
					if(key4s[1]=="ドラゴン"){
						iry2=Math.round(2048*iry2/syoki);
					}
				}else if(tmukou.checked){
					if(key4s[1]=="ドラゴン"){
						iry2=Math.round(2048*iry2/syoki);
					}
				}
			}
		}
	}
	
	//フィールド(強化)
	if(firudo.value=="グラスフィールド"){
		if(key5s.indexOf("じゅうりょく")!=-1){
			if(key1s[1]=="くさ"){
				iry=Math.round(5325*iry/syoki);
			}
		}else if(key2s.indexOf("ひこう")==-1){
			if(terasu.value!="ひこう"){
				if(tokusei.value!="ふゆう"){
					if(key1s[1]=="くさ"){
						iry=Math.round(5325*iry/syoki);
					}
				}else if(tmukou.checked){
					if(key1s[1]=="くさ"){
						iry=Math.round(5325*iry/syoki);
					}
				}
			}
		}else if(key2s.indexOf("ひこう")!=-1){
			if(terasu.value!="ひこう" && terasu.value!="なし"){
				if(tokusei.value!="ふゆう"){
					if(key1s[1]=="くさ"){
						iry=Math.round(5325*iry/syoki);
					}
				}else if(tmukou.checked){
					if(key1s[1]=="くさ"){
						iry=Math.round(5325*iry/syoki);
					}
				}
			}
		}
		if(key6s.indexOf("じゅうりょく")!=-1){
			if(key4s[1]=="くさ"){
				iry2=Math.round(5325*iry2/syoki);
			}
		}else if(key3s.indexOf("ひこう")==-1){
			if(sterasu.value!="ひこう"){
				if(stokusei.value!="ふゆう"){
					if(key4s[1]=="くさ"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}else if(stmukou.checked){
					if(key4s[1]=="くさ"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}
			}
		}else if(key3s.indexOf("ひこう")!=-1){
			if(sterasu.value!="ひこう" && sterasu.value!="なし"){
				if(stokusei.value!="ふゆう"){
					if(key4s[1]=="くさ"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}else if(stmukou.checked){
					if(key4s[1]=="くさ"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}
			}
		}
	}
	if(firudo.value=="エレキフィールド"){
		if(key5s.indexOf("じゅうりょく")!=-1){
			if(key1s[1]=="でんき"){
				iry=Math.round(5325*iry/syoki);
			}
		}else if(key2s.indexOf("ひこう")==-1){
			if(terasu.value!="ひこう"){
				if(tokusei.value!="ふゆう"){
					if(key1s[1]=="でんき"){
						iry=Math.round(5325*iry/syoki);
					}
				}else if(tmukou.checked){
					if(key1s[1]=="でんき"){
						iry=Math.round(5325*iry/syoki);
					}
				}
			}
		}else if(key2s.indexOf("ひこう")!=-1){
			if(terasu.value!="ひこう" && terasu.value!="なし"){
				if(tokusei.value!="ふゆう"){
					if(key1s[1]=="でんき"){
						iry=Math.round(5325*iry/syoki);
					}
				}else if(tmukou.checked){
					if(key1s[1]=="でんき"){
						iry=Math.round(5325*iry/syoki);
					}
				}
			}
		}
		if(key6s.indexOf("じゅうりょく")!=-1){
			if(key4s[1]=="でんき"){
				iry2=Math.round(5325*iry2/syoki);
			}
		}else if(key3s.indexOf("ひこう")==-1){
			if(sterasu.value!="ひこう"){
				if(stokusei.value!="ふゆう"){
					if(key4s[1]=="でんき"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}else if(stmukou.checked){
					if(key4s[1]=="でんき"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}
			}
		}else if(key3s.indexOf("ひこう")!=-1){
			if(sterasu.value!="ひこう" && sterasu.value!="なし"){
				if(stokusei.value!="ふゆう"){
					if(key4s[1]=="でんき"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}else if(stmukou.checked){
					if(key4s[1]=="でんき"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}
			}
		}
	}
	if(firudo.value=="ミストフィールド"){
		if(key5s.indexOf("じゅうりょく")!=-1){
			if(key1s[1]=="フェアリー"){
				iry=Math.round(5325*iry/syoki);
			}
		}else if(key2s.indexOf("ひこう")==-1){
			if(terasu.value!="ひこう"){
				if(tokusei.value!="ふゆう"){
					if(key1s[1]=="フェアリー"){
						iry=Math.round(5325*iry/syoki);
					}
				}else if(tmukou.checked){
					if(key1s[1]=="フェアリー"){
						iry=Math.round(5325*iry/syoki);
					}
				}
			}
		}else if(key2s.indexOf("ひこう")!=-1){
			if(terasu.value!="ひこう" && terasu.value!="なし"){
				if(tokusei.value!="ふゆう"){
					if(key1s[1]=="フェアリー"){
						iry=Math.round(5325*iry/syoki);
					}
				}else if(tmukou.checked){
					if(key1s[1]=="フェアリー"){
						iry=Math.round(5325*iry/syoki);
					}
				}
			}
		}
		if(key6s.indexOf("じゅうりょく")!=-1){
			if(key4s[1]=="フェアリー"){
				iry2=Math.round(5325*iry2/syoki);
			}
		}else if(key3s.indexOf("ひこう")==-1){
			if(sterasu.value!="ひこう"){
				if(stokusei.value!="ふゆう"){
					if(key4s[1]=="フェアリー"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}else if(stmukou.checked){
					if(key4s[1]=="フェアリー"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}
			}
		}else if(key3s.indexOf("ひこう")!=-1){
			if(sterasu.value!="ひこう" && sterasu.value!="なし"){
				if(stokusei.value!="ふゆう"){
					if(key4s[1]=="フェアリー"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}else if(stmukou.checked){
					if(key4s[1]=="フェアリー"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}
			}
		}
	}
	if(firudo.value=="サイコフィールド"){
		if(key5s.indexOf("じゅうりょく")!=-1){
			if(key1s[1]=="エスパー"){
				iry=Math.round(5325*iry/syoki);
			}
		}else if(key2s.indexOf("ひこう")==-1){
			if(terasu.value!="ひこう"){
				if(tokusei.value!="ふゆう"){
					if(key1s[1]=="エスパー"){
						iry=Math.round(5325*iry/syoki);
					}
				}else if(tmukou.checked){
					if(key1s[1]=="エスパー"){
						iry=Math.round(5325*iry/syoki);
					}
				}
			}
		}else if(key2s.indexOf("ひこう")!=-1){
			if(terasu.value!="ひこう" && terasu.value!="なし"){
				if(tokusei.value!="ふゆう"){
					if(key1s[1]=="エスパー"){
						iry=Math.round(5325*iry/syoki);
					}
				}else if(tmukou.checked){
					if(key1s[1]=="エスパー"){
						iry=Math.round(5325*iry/syoki);
					}
				}
			}
		}
		if(key6s.indexOf("じゅうりょく")!=-1){
			if(key4s[1]=="エスパー"){
				iry2=Math.round(5325*iry2/syoki);
			}
		}else if(key3s.indexOf("ひこう")==-1){
			if(sterasu.value!="ひこう"){
				if(stokusei.value!="ふゆう"){
					if(key4s[1]=="エスパー"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}else if(stmukou.checked){
					if(key4s[1]=="エスパー"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}
			}
		}else if(key3s.indexOf("ひこう")!=-1){
			if(sterasu.value!="ひこう" && sterasu.value!="なし"){
				if(stokusei.value!="ふゆう"){
					if(key4s[1]=="エスパー"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}else if(stmukou.checked){
					if(key4s[1]=="エスパー"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}
			}
		}
	}
	
	if(tokusei.value=="ファントムガード" && !tmukou.checked){
		m2[4]=0.5*m2[4];
	}
	if(stokusei.value=="ファントムガード" && !stmukou.checked){
		m1[4]=0.5*m1[4];
	}
	
	if(tokusei.value=="マルチスケイル" && !tmukou.checked){
		if(stokusei.value!="かたやぶり"){
			m2[4]=0.5*m2[4];
		}else if(stmukou.checked){
			m2[4]=0.5*m2[4];
		}
	}
	if(stokusei.value=="マルチスケイル" && !stmukou.checked){
		if(tokusei.value!="かたやぶり"){
			m1[4]=0.5*m1[4];
		}else if(tmukou.checked){
			m1[4]=0.5*m1[4];
		}
	}
	
	if(stokusei.value=="もふもふ" && !stmukou.checked){
		if(tokusei.value!="かたやぶり"){
			if(zikawaza.indexOf(waza1_name)!=-1){
				m1[4]=0.5*m1[4];
			}
		}else if(tmukou.checked){
			if(zikawaza.indexOf(waza1_name)!=-1){
				m1[4]=0.5*m1[4];
			}
		}
	}
	if(tokusei.value=="もふもふ" && !tmukou.checked){
		if(stokusei.value!="かたやぶり"){
			if(zikawaza.indexOf(waza2_name)!=-1){
				m2[4]=0.5*m2[4];
			}
		}else if(stmukou.checked){
			if(zikawaza.indexOf(waza2_name)!=-1){
				m2[4]=0.5*m2[4];
			}
		}
	}

	if(key1s[2]=="物理"){
		aa=Number(z_a.value);
		dd=Number(sz_b.value);
	}else if(key1s[2]=="特殊"){
		aa=Number(z_c.value);
		dd=Number(sz_d.value);
		if(stokusei.value=="こおりのりんぷん" && !stmukou.checked){
			if(tokusei.value!="かたやぶり"){
				m1[4]=0.5*m1[4];
			}else if(tmukou.checked){
				m1[4]=0.5*m1[4];
			}
		}
	}
	if(waza1_name=="サイコショック"){
		dd=Number(sz_b.value);
	}else if(waza1_name=="イカサマ"){
		aa=Number(sz_a.value);
	}
	
	if(key4s[2]=="物理"){
		aa2=Number(sz_a.value);
		dd2=Number(z_b.value);
	}else if(key4s[2]=="特殊"){
		aa2=Number(sz_c.value);
		dd2=Number(z_d.value);
		if(tokusei.value=="こおりのりんぷん" && !tmukou.checked){
			if(stokusei.value!="かたやぶり"){
				m1[4]=0.5*m1[4];
			}else if(stmukou.checked){
				m1[4]=0.5*m1[4];
			}
		}
	}
	if(waza2_name=="サイコショック"){
		dd=Number(z_b.value);
	}else if(waza2_name=="イカサマ"){
		aa=Number(z_a.value);
	}
	

	
	if(key5s.indexOf("フレンドガード")!=-1){
		m2[6]=0.75*m2[6];
	}
	if(key6s.indexOf("フレンドガード")!=-1){
		m1[6]=0.75*m1[6];
	}
	
	var han=4096;
	var han2=4096;
	if(drone[1].checked){
		if(haniwaza.indexOf(waza1_name)!=-1 && waza_name1!="ワイドフォース"){
			han=0.75*han;
		}
		if(haniwaza.indexOf(waza2_name)!=-1 && waza_name2!="ワイドフォース"){
			han2=0.75*han2;
		}
	}
	if(skabe.value=="あり" && tokusei.value!="すりぬけ"){
		if(drone[1].checked){
			m1[0]=2732;
		}else{
			m1[0]=2048;
		}
		if(kyuusyo.checked){
			m1[0]=4096;
		}
	}else  if(skabe.value=="あり" && tokusei.value=="すりぬけ" && tmukou.checked){
		if(drone[1].checked){
			m1[0]=2732;
		}else{
			m1[0]=2048;
		}
		if(kyuusyo.checked){
			m1[0]=4096;
		}
	}
	if(kabe.value=="あり" && stokusei.value!="すりぬけ"){
		if(drone[1].checked){
			m2[0]=2732;
		}else{
			m2[0]=2048;
		}
		if(skyuusyo.checked){
			m2[0]=4096;
		}
	}else if(kabe.value=="あり" && stokusei.value=="すりぬけ" && stmukou.checked){
		if(drone[1].checked){
			m2[0]=2732;
		}else{
			m2[0]=2048;
		}
		if(skyuusyo.checked){
			m2[0]=4096;
		}
	}
	
	var ten=4096;
	var ten2=4096;
	key1=tenki.value;
	if(key1=="はれ" && key5s.indexOf("ノーてんき")==-1 && key5s.indexOf("エアロック")==-1 && key6s.indexOf("ノーてんき")==-1 && key6s.indexOf("エアロック")==-1){
		if(key1s[1]=="ほのお"){
			ten=6144;
		}else if(key1s[1]=="みず" && waza1_name!="ハイドロスチーム"){
			ten=2048;
		}
		if(key4s[1]=="ほのお"){
			ten2=6144;
		}else if(key4s[1]=="みず" && waza2_name!="ハイドロスチーム"){
			ten2=2048;
		}
	}else if(key1=="あめ" && key5s.indexOf("ノーてんき")==-1 && key5s.indexOf("エアロック")==-1 && key6s.indexOf("ノーてんき")==-1 && key6s.indexOf("エアロック")==-1){
		if(key1s[1]=="みず"){
			ten=6144;
		}else if(key1s[1]=="ほのお"){
			ten=2048;
		}
	}else if(key1=="ゆき" && key5s.indexOf("ノーてんき")==-1 && key5s.indexOf("エアロック")==-1 && key6s.indexOf("ノーてんき")==-1 && key6s.indexOf("エアロック")==-1){
		if(key3s.indexOf("こおり")!=-1 && key1s[2]=="物理"){
			dd=Math.floor(dd*1.5);
		}else if(key3s.indexOf("こおり")!=-1 && waza1_name=="サイコショック"){
			dd=Math.floor(dd*1.5);
		}
		if(key2s.indexOf("こおり")!=-1 && key4s[2]=="物理"){
			dd2=Math.floor(dd*1.5);
		}else if(key2s.indexOf("こおり")!=-1 && waza2_name=="サイコショック"){
			dd2=Math.floor(dd*1.5);
		}
	}else if(key1=="すなあらし" && key5s.indexOf("ノーてんき")==-1 && key5s.indexOf("エアロック")==-1 && key6s.indexOf("ノーてんき")==-1 && key6s.indexOf("エアロック")==-1){
		if(key3s.indexOf("いわ")!=-1 && key1s[2]=="特殊" && waza1_name!="サイコショック"){
			dd=Math.floor(dd*1.5);
		}
		if(key2s.indexOf("いわ")!=-1 && key4s[2]=="特殊" && waza2_name!="サイコショック"){
			dd2=Math.floor(dd*1.5);
		}
	}
	
	var kyu=4096;
	var kyu2=4096;
	if(kyuusyo.checked){
		kyu=kyu*1.5;
		if(tokusei.value=="スナイパー" && !tmukou.checked){
			m1[1]=1.5;
		}
	}
	if(skyuusyo.checked){
		kyu2=kyu2*1.5;
		if(stokusei.value=="スナイパー" && !stmukou.checked){
			m2[1]=1.5;
		}
	}
	
	var ai=1;
	big=[];
	big.push(1)
	if(key1s[1]=="ノーマル"){
		if(key3s.indexOf("ゴースト")!=-1){
			if(smotimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				if(tokusei.value=="きもったま" || tokusei.value=="しんがん"){
					if(tmukou.checked){
						big.push(0)
					}else{
						big.push(1)
					}
				}else{
					big.push(0)
				}
			}
		}
		if(smotimono.value=="ボズのみ"){
			if(tokusei.value!="きんちょうかん"){
				m1[10]=0.5*m1[10];
			}else if(tmukou.checked){
				m1[10]=0.5*m1[10];
			}
		}
	}else if(key1s[1]=="みず"){
		if(stokusei.value=="よびみず" || stokusei.value=="ちょすい" || stokusei.value=="かんそうはだ"){
			if(!stmukou.checked){
				if(tokusei.value!="かたやぶり"){
					big.push(0)
				}else if(tmukou.checked){
					big.push(0)
				}
			}
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("みず")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("くさ")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("じめん")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("いわ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("ドラゴン")!=-1){
			big.push(0.5)
		}
	}else if(key1s[1]=="ほのお"){
		if(stokusei.value=="こんがりボディ" || stokusei.value=="もらいび"){
			if(!stmukou.checked){
				if(tokusei.value!="かたやぶり"){
					big.push(0)
				}else if(tmukou.checked){
					big.push(0)
				}
			}
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("みず")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("いわ")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ドラゴン")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("こおり")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("むし")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(2)
		}
		if(stokusei.value=="もふもふ"){
			if(!stmukou.checked){
				if(tokusei.value!="かたやぶり"){
					m1[3]=2*m1[3];
				}else if(tmukou.checked){
					m1[3]=2*m1[3];
				}
			}
		}
	}else if(key1s[1]=="くさ"){
		if(stokusei.value=="そうしょく"){
			if(stmukou.checked==false){
				if(tokusei.value!="かたやぶり"){
					big.push(0)
				}else if(tmukou.checked){
					big.push(0)
				}
			}
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("くさ")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ひこう")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("むし")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ドラゴン")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("みず")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("じめん")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("いわ")!=-1){
			big.push(2)
		}
	}else if(key1s[1]=="でんき"){
		if(stokusei.value=="ちくでん" || stokusei.value=="ひらいしん" || stokusei.value=="でんきエンジン"){
			if(!stmukou.checked){
				if(tokusei.value!="かたやぶり"){
					big.push(0)
				}else if(tmukou.checked){
					big.push(0)
				}
			}
		}
		if(key3s.indexOf("みず")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("ひこう")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("でんき")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("くさ")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ドラゴン")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("じめん")!=-1){
			if(smotimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
	}else if(key1s[1]=="こおり"){
		if(key3s.indexOf("みず")!=-1 && waza1_name=="フリーズドライ"){
			big.push(2)
		}else if(key3s.indexOf("みず")!=-1 && waza1_name!="フリーズドライ"){
			big.push(0.5)
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("こおり")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("じめん")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("ひこう")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("ドラゴン")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
	}else if(key1s[1]=="かくとう"){
		if(key3s.indexOf("ゴースト")!=-1){
			if(smotimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				if(tokusei.value=="きもったま" || tokusei.value=="しんがん"){
					if(tmukou.checked){
						big.push(0)
					}else{
						big.push(1)
					}
				}else{
					big.push(0)
				}
			}
		}
		if(key3s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ひこう")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("エスパー")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("むし")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("フェアリー")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ノーマル")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("こおり")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("いわ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("あく")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(2)
		}
		if(waza1_name=="フライングプレス"){
			if(key3s.indexOf("くさ")!=-1){
				big.push(2)
			}
			if(key3s.indexOf("かくとう")!=-1){
				big.push(2)
			}
			if(key3s.indexOf("むし")!=-1){
				big.push(2)
			}
			if(key3s.indexOf("でんき")!=-1){
				big.push(0.5)
			}
			if(key3s.indexOf("いわ")!=-1){
				big.push(0.5)
			}
			if(key3s.indexOf("はがね")!=-1){
				big.push(0.5)
			}
		}
	}else if(key1s[1]=="どく"){
		if(key3s.indexOf("はがね")!=-1){
			if(smotimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(key3s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("フェアリー")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("じめん")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("いわ")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ゴースト")!=-1){
			big.push(0.5)
		}
	}else if(key1s[1]=="じめん"){
		if(key3s.indexOf("ひこう")!=-1){
			if(smotimono.value=="ねらいのまと" || smotimono.value=="くろいてっきゅう"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(stokusei.value=="ふゆう" || stokusei.value=="どしょく"){
			if(!stmukou.checked){
				if(tokusei.value!="かたやぶり"){
					big.push(0)
				}else if(tmukou.checked){
					big.push(0)
				}
			}
		}
		if(smotimono.value=="ふうせん"){
			big.push(0)
		}
		if(key3s.indexOf("くさ")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("むし")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("でんき")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("どく")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("いわ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(2)
		}
	}else if(key1s[1]=="ひこう"){
		if(key3s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("かくとう")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("むし")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("でんき")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("いわ")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
	}else if(key1s[1]=="エスパー"){
		if(key3s.indexOf("あく")!=-1){
			if(smotimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("エスパー")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("かくとう")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("どく")!=-1){
			big.push(2)
		}
	}else if(key1s[1]=="むし"){
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("かくとう")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ひこう")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ゴースト")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("フェアリー")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("エスパー")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("あく")!=-1){
			big.push(2)
		}
	}else if(key1s[1]=="いわ"){
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("かくとう")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("じめん")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("こおり")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("ひこう")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("むし")!=-1){
			big.push(2)
		}
	}else if(key1s[1]=="ゴースト"){
		if(key3s.indexOf("ノーマル")!=-1){
			if(smotimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(key3s.indexOf("ゴースト")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("エスパー")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("あく")!=-1){
			big.push(0.5)
		}
	}else if(key1s[1]=="ドラゴン"){
		if(key3s.indexOf("フェアリー")!=-1){
			if(smotimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ドラゴン")!=-1){
			big.push(2)
		}
	}else if(key1s[1]=="あく"){
		if(key3s.indexOf("エスパー")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("ゴースト")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("かくとう")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("あく")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("フェアリー")!=-1){
			big.push(0.5)
		}
	}else if(key1s[1]=="はがね"){
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("みず")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("でんき")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("いわ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("こおり")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("フェアリー")!=-1){
			big.push(2)
		}
	}else if(key1s[1]=="フェアリー"){
		if(key3s.indexOf("かくとう")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("ドラゴン")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("あく")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
	}
	
	for(i of big){
		ai=ai*i;
	}
	
	var ai2=1;
	big=[];
	big.push(1)
	if(key4s[1]=="ノーマル"){
		if(key2s.indexOf("ゴースト")!=-1){
			if(motimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				if(stokusei.value=="きもったま" || stokusei.value=="しんがん"){
					if(stmukou.checked){
						big.push(0)
					}else{
						big.push(1)
					}
				}else{
					big.push(0)
				}
			}
		}
		if(motimono.value=="ボズのみ"){
			if(stokusei.value!="きんちょうかん"){
				m2[10]=0.5*m2[10];
			}else if(stmukou.checked){
				m2[10]=0.5*m2[10];
			}
		}
	}else if(key4s[1]=="みず"){
		if(tokusei.value=="よびみず" || tokusei.value=="ちょすい" || tokusei.value=="かんそうはだ"){
			if(!tmukou.checked){
				if(stokusei.value!="かたやぶり"){
					big.push(0)
				}else if(stmukou.checked){
					big.push(0)
				}
			}
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("みず")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("くさ")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("じめん")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("いわ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("ドラゴン")!=-1){
			big.push(0.5)
		}
	}else if(key4s[1]=="ほのお"){
		if(tokusei.value=="こんがりボディ" || tokusei.value=="もらいび"){
			if(!tmukou.checked){
				if(stokusei.value!="かたやぶり"){
					big.push(0)
				}else if(stmukou.checked){
					big.push(0)
				}
			}
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("みず")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("いわ")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ドラゴン")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("こおり")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("むし")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(2)
		}
		if(tokusei.value=="もふもふ"){
			if(!tmukou.checked){
				if(stokusei.value!="かたやぶり"){
					m2[3]=2*m2[3];
				}else if(stmukou.checked){
					m2[3]=2*m2[3];
				}
			}
		}
	}else if(key4s[1]=="くさ"){
		if(tokusei.value=="そうしょく"){
			if(!tmukou.checked){
				if(stokusei.value!="かたやぶり"){
					big.push(0)
				}else if(stmukou.checked){
					big.push(0)
				}
			}
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("くさ")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ひこう")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("むし")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ドラゴン")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("みず")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("じめん")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("いわ")!=-1){
			big.push(2)
		}
	}else if(key4s[1]=="でんき"){
		if(stokusei.value=="ちくでん" || stokusei.value=="ひらいしん" || stokusei.value=="でんきエンジン"){
			if(!tmukou.checked){
				if(stokusei.value!="かたやぶり"){
					big.push(0)
				}else if(stmukou.checked){
					big.push(0)
				}
			}
		}
		if(key2s.indexOf("みず")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("ひこう")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("でんき")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("くさ")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ドラゴン")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("じめん")!=-1){
			if(smotimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
	}else if(key4s[1]=="こおり"){
		if(key2s.indexOf("みず")!=-1 && waza2_name=="フリーズドライ"){
			big.push(2)
		}else if(key2s.indexOf("みず")!=-1 && waza2_name!="フリーズドライ"){
			big.push(0.5)
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("こおり")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("じめん")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("ひこう")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("ドラゴン")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
	}else if(key4s[1]=="かくとう"){
		if(key2s.indexOf("ゴースト")!=-1){
			if(motimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				if(stokusei.value=="きもったま" || stokusei.value=="しんがん"){
					if(stmukou.checked){
						big.push(0)
					}else{
						big.push(1)
					}
				}else{
					big.push(0)
				}
			}
		}
		if(key2s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ひこう")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("エスパー")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("むし")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("フェアリー")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ノーマル")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("こおり")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("いわ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("あく")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(2)
		}
		if(waza2_name=="フライングプレス"){
			if(key2s.indexOf("くさ")!=-1){
				big.push(2)
			}
			if(key2s.indexOf("かくとう")!=-1){
				big.push(2)
			}
			if(key2s.indexOf("むし")!=-1){
				big.push(2)
			}
			if(key2s.indexOf("でんき")!=-1){
				big.push(0.5)
			}
			if(key2s.indexOf("いわ")!=-1){
				big.push(0.5)
			}
			if(key2s.indexOf("はがね")!=-1){
				big.push(0.5)
			}
		}
	}else if(key4s[1]=="どく"){
		if(key2s.indexOf("はがね")!=-1){
			if(motimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(key2s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("フェアリー")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("じめん")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("いわ")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ゴースト")!=-1){
			big.push(0.5)
		}
	}else if(key4s[1]=="じめん"){
		if(key2s.indexOf("ひこう")!=-1){
			if(smotimono.value=="ねらいのまと" || smotimono.value=="くろいてっきゅう"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(tokusei.value=="ふゆう" || tokusei.value=="どしょく"){
			if(!tmukou.checked){
				if(stokusei.value!="かたやぶり"){
					big.push(0)
				}else if(stmukou.checked){
					big.push(0)
				}
			}
		}
		if(motimono.value=="ふうせん"){
			big.push(0)
		}
		if(key2s.indexOf("くさ")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("むし")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("でんき")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("どく")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("いわ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(2)
		}
	}else if(key4s[1]=="ひこう"){
		if(key2s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("かくとう")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("むし")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("でんき")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("いわ")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
	}else if(key4s[1]=="エスパー"){
		if(key2s.indexOf("あく")!=-1){
			if(motimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("エスパー")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("かくとう")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("どく")!=-1){
			big.push(2)
		}
	}else if(key4s[1]=="むし"){
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("かくとう")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ひこう")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ゴースト")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("フェアリー")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("エスパー")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("あく")!=-1){
			big.push(2)
		}
	}else if(key4s[1]=="いわ"){
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("かくとう")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("じめん")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("こおり")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("ひこう")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("むし")!=-1){
			big.push(2)
		}
	}else if(key4s[1]=="ゴースト"){
		if(key2s.indexOf("ノーマル")!=-1){
			if(motimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(key2s.indexOf("ゴースト")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("エスパー")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("あく")!=-1){
			big.push(0.5)
		}
	}else if(key4s[1]=="ドラゴン"){
		if(key2s.indexOf("フェアリー")!=-1){
			if(motimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ドラゴン")!=-1){
			big.push(2)
		}
	}else if(key4s[1]=="あく"){
		if(key2s.indexOf("エスパー")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("ゴースト")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("かくとう")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("あく")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("フェアリー")!=-1){
			big.push(0.5)
		}
	}else if(key4s[1]=="はがね"){
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("みず")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("でんき")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("いわ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("こおり")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("フェアリー")!=-1){
			big.push(2)
		}
	}else if(key4s[1]=="フェアリー"){
		if(key2s.indexOf("かくとう")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("ドラゴン")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("あく")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
	}
	
	for(i of big){
		ai2=ai2*i;
	}
	
	if(ai<1){
		if(tokusei.value=="いろめがね" && !tmukou.checked){
			m1[2]=2*syoki;
		}
	}
	
	if(ai2<1){
		if(stokusei.value=="いろめがね" && !stmukou.checked){
			m2[2]=2*syoki;
		}
	}
	
	if(ai>1){
		if(stokusei.value=="プリズムアーマー" && !stmukou.checked){
			m1[5]=0.75*m1[5];
		}else if(stokusei.value=="フィルター" && !stmukou.checked){
			if(tokusei.value!="かたやぶり"){
				m1[5]=0.75*m1[5];
			}else if(tmukou.checked){
				m1[5]=0.75*m1[5];
			}
		}else if(stokusei.value=="ハードロック" && !stmukou.checked){
			if(tokusei.value!="かたやぶり"){
				m1[5]=0.75*m1[5];
			}else if(tmukou.checked){
				m1[5]=0.75*m1[5];
			}
		}
		if(motimono.value=="たつじんのおび"){
			m1[7]=4915;
		}
		if(smotimono.value=="半減きのみ"){
			if(tokusei.value!="きんちょうかん"){
				m1[10]=0.5*m1[10];
			}else if(tmukou.checked){
				m1[10]=0.5*m1[10];
			}
		}
	}
	if(ai2>1){
		if(tokusei.value=="プリズムアーマー" && !tmukou.checked){
			m2[5]=0.75*m2[5];
		}else if(tokusei.value=="フィルター" && !tmukou.checked){
			if(stokusei.value!="かたやぶり"){
				m2[5]=0.75*m2[5];
			}else if(stmukou.checked){
				m2[5]=0.75*m2[5];
			}
		}else if(tokusei.value=="ハードロック" && !tmukou.checked){
			if(stokusei.value!="かたやぶり"){
				m2[5]=0.75*m2[5];
			}else if(stmukou.checked){
				m2[5]=0.75*m2[5];
			}
		}
		if(smotimono.value=="たつじんのおび"){
			m2[7]=4915;
		}
		if(motimono.value=="半減きのみ"){
			if(stokusei.value!="きんちょうかん"){
				m2[10]=0.5*m2[10];
			}else if(stmukou.checked){
				m2[10]=0.5*m2[10];
			}
		}
	}
	
	if(motimono.value=="メトロノーム"){
		m1[8]=syoki;
	}
	if(smotimono.value=="メトロノーム"){
		m2[8]=syoki;
	}
	
	if(motimono.value=="いのちのたま"){
		m1[9]=5324;
	}
	if(smotimono.value=="いのちのたま"){
		m2[9]=5324;
	}
	
	var yak=4096;
	if(key1s[2]=="物理" && ijo.value=="やけど" && waza1_name!="からげんき"){
		if(tokusei.value=="こんじょう"){
			if(!tmukou.checked){
				yak=yak;
			}else{
				yak=0.5*yak;
			}
		}else{
			yak=0.5*yak;
		}
	}
	var yak2=4096;
	if(key4s[2]=="物理" && sijo.value=="やけど" && waza2_name!="からげんき"){
		if(stokusei.value=="こんじょう"){
			if(!stmukou.checked){
				yak2=yak2;
			}else{
				yak2=0.5*yak2;
			}
		}else{
			yak2=0.5*yak2;
		}
	}
	
	newArr=Math.floor(Math.floor(Math.floor(level1*2/5+2)*iry*aa/dd)/50+2);
	
	newArr=han*newArr/syoki;
	if(newArr-Math.floor(newArr)>0.5){
		newArr=Math.floor(newArr)+1;
	}else{
		newArr=Math.floor(newArr);
	}
	
	newArr=ten*newArr/syoki;
	if(newArr-Math.floor(newArr)>0.5){
		newArr=Math.floor(newArr)+1;
	}else{
		newArr=Math.floor(newArr);
	}
	
	newArr=kyu*newArr/syoki;
	if(newArr-Math.floor(newArr)>0.5){
		newArr=Math.floor(newArr)+1;
	}else{
		newArr=Math.floor(newArr);
	}
	
	elem=[]
	for(i=85;i<=100;i++){
		idx=Math.floor(newArr*i/100)
		
		idx=idx*tai/syoki
		if(idx-Math.floor(idx)>0.5){
			idx=Math.floor(idx)+1;
		}else{
			idx=Math.floor(idx);
		}
		
		idx=Math.floor(idx*ai)
		
		idx=idx*yak/syoki
		if(idx-Math.floor(idx)>0.5){
			idx=Math.floor(idx)+1;
		}else{
			idx=Math.floor(idx);
		}
		for(m of m1){
			idx=Math.round(idx*m/syoki);
		}
		elem.push(idx)
	}
	
	dametai="あきらめて";
	v_z_h=Number(sz_h.value);
	kakutei=Math.round(elem[0]/v_z_h*100*Math.pow( 10, 2 ))/Math.pow( 10, 2 );
	
	ransuu=Math.round(elem[15]/v_z_h*100*Math.pow( 10, 2 ))/Math.pow( 10, 2 );
	for(i=1;i<=20;i++){
		if(elem[15]*i>=v_z_h){
			if(elem[0]*i>=v_z_h){
				dametai="確"+String(i)+" ( "+String(kakutei)+" % - "+String(ransuu)+" % )";
			}else{
				dametai="乱"+String(i)+" ( "+String(kakutei)+" % - "+String(ransuu)+" % )";
			}
			break;
		}
	}
	if(kakutei>100){
		kakutei=100;
	}if(ransuu>100){
		ransuu=100;
	}
	dummy=100-ransuu;
	ransuu=ransuu-kakutei;
	
	myChartSt = new Chart(ctx, {
    	type: "horizontalBar",
    	data:{
    		labels: ['ダメージ結果',],
    		datasets: [
    			{
    				label: '確定',
    				data: [kakutei,],
    				backgroundColor: "rgba(219,39,91,0.5)"
    			},
    			{
    				label: '乱数',
    				data: [ransuu,],
    				backgroundColor: "rgba(255, 204, 153,0.5)"
    			},
    			{
    				label: 'ダミー',
    				data: [dummy,],
    				backgroundColor: "rgba(255, 204, 153, 0.0)"
    			}
    		]
    	},
    	options: {
    		title: {
    			display: true,
    			text: dametai
    		},
    		scales: {
    			xAxes: [
    				{
    					stacked: true,
    					beginAtZero:true,//0からスタート
						suggestedMax: 100,//最大が100
						suggestedMin: 0,//最小が0
    					ticks:{
							callback: function(value){
								return  value +  '%'
							}
						}
					}
				],
				yAxes: [
					{
						stacked: true
					}
				]
			},
			legend: {
				display: false
			},
			tooltips: {
				enabled: false
			},
			responsive: true,

			maintainAspectRatio: false
    	}
    });
    
    newArr=Math.floor(Math.floor(Math.floor(level2*2/5+2)*iry2*aa2/dd2)/50+2);
	
	newArr=han2*newArr/syoki;
	if(newArr-Math.floor(newArr)>0.5){
		newArr=Math.floor(newArr)+1;
	}else{
		newArr=Math.floor(newArr);
	}
	
	newArr=ten2*newArr/syoki;
	if(newArr-Math.floor(newArr)>0.5){
		newArr=Math.floor(newArr)+1;
	}else{
		newArr=Math.floor(newArr);
	}
	
	newArr=kyu2*newArr/syoki;
	if(newArr-Math.floor(newArr)>0.5){
		newArr=Math.floor(newArr)+1;
	}else{
		newArr=Math.floor(newArr);
	}
	
	elem=[]
	for(i=85;i<=100;i++){
		idx=Math.floor(newArr*i/100)
		
		idx=idx*tai2/syoki
		if(idx-Math.floor(idx)>0.5){
			idx=Math.floor(idx)+1;
		}else{
			idx=Math.floor(idx);
		}
		
		idx=Math.floor(idx*ai2)
		
		idx=idx*yak2/syoki
		if(idx-Math.floor(idx)>0.5){
			idx=Math.floor(idx)+1;
		}else{
			idx=Math.floor(idx);
		}
		for(m of m2){
			idx=Math.round(idx*m/syoki);
		}
		elem.push(idx)
	}
	
	dametai="あきらめて";
	v_z_h=Number(z_h.value);
	kakutei=Math.round(elem[0]/v_z_h*100*Math.pow( 10, 2 ))/Math.pow( 10, 2 );
	
	ransuu=Math.round(elem[15]/v_z_h*100*Math.pow( 10, 2 ))/Math.pow( 10, 2 );
	for(i=1;i<=20;i++){
		if(elem[15]*i>=v_z_h){
			if(elem[0]*i>=v_z_h){
				dametai="確"+String(i)+" ( "+String(kakutei)+" % - "+String(ransuu)+" % )";
			}else{
				dametai="乱"+String(i)+" ( "+String(kakutei)+" % - "+String(ransuu)+" % )";
			}
			break;
		}
	}
	if(kakutei>100){
		kakutei=100;
	}if(ransuu>100){
		ransuu=100;
	}
	dummy=100-ransuu;
	ransuu=ransuu-kakutei;
	
	smyChartSt = new Chart(sctx, {
    	type: "horizontalBar",
    	data:{
    		labels: ['ダメージ結果',],
    		datasets: [
    			{
    				label: '確定',
    				data: [kakutei,],
    				backgroundColor: "rgba(219,39,91,0.5)"
    			},
    			{
    				label: '乱数',
    				data: [ransuu,],
    				backgroundColor: "rgba(255, 204, 153,0.5)"
    			},
    			{
    				label: 'ダミー',
    				data: [dummy,],
    				backgroundColor: "rgba(255, 204, 153, 0.0)"
    			}
    		]
    	},
    	options: {
    		title: {
    			display: true,
    			text: dametai
    		},
    		scales: {
    			xAxes: [
    				{
    					stacked: true,
    					beginAtZero:true,//0からスタート
						suggestedMax: 100,//最大が100
						suggestedMin: 0,//最小が0
    					ticks:{
							callback: function(value){
								return  value +  '%'
							}
						}
					}
				],
				yAxes: [
					{
						stacked: true
					}
				]
			},
			legend: {
				display: false
			},
			tooltips: {
				enabled: false
			},
			responsive: true,

			maintainAspectRatio: false
    	}
    });
}
