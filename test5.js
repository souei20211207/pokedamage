var haniwaza='アストラルビット,いにしえのうた,いわなだれ,うたかたのアリア,エアカッター,エレキネット,オーバードライブ,カウンター,かみなりあらし,キラースピン,ゴールドラッシュ,こがらしあらし,こごえるかぜ,こごえるせかい,こなゆき,こんげんのはどう,しおふき,じしん,しっとのほのお,じならし,じばく,シャカシャカほう,スケイルノイズ,スピードスター,だいばくはつ,ダイヤストーム,だくりゅう,たつまき,だんがいのつるぎ,チャームボイス,ドラゴンエナジー,なみのり,ねっさのあらし,ねっぷう,バークアウト,ハイパーボイス,ばくおんぱ,はっぱカッター,はなふぶき,パラボラチャージ,はるのあらし,ふぶき,ブリザードランス,ふんえん,ふんか,ぶんまわす,ヘドロウェーブ,ほうでん,ほうふく,マジカルシャイン,ミストバースト,ミラーコート,むしのていこう,メタルバースト,もえあがるいかり,やきつくす,ようかいえき,ワイドフォース,ワイドブレイカー';
haniwaza=haniwaza.split(',');

var otowaza='いにしえのうた,いびき,うたかたのアリア,エコーボイス,オーバードライブ,サイコノイズ,さわぐ,スケイルノイズ,チャームボイス,バークアウト,ハイパーボイス,ばくおんぱ,ぶきみなじゅもん,フレアソング,みわくのボイス,むしのさざめき,りんしょう';
otowaza=otowaza.split(',');

var zikawaza='イナズマドライブ,くさむすび,ドレインキッス,はなびらのまい,まとわりつく,10まんばりき,DDラリアット,Vジェネレート,アームハンマー,アイアンテール,アイアンヘッド,アイアンローラー,アイススピナー,アイスハンマー,アクアジェット,アクアステップ,アクアテール,アクアブレイク,アクセルブレイク,アクセルロック,アクロバット,あなをほる,あばれる,あんこくきょうだ,いあいぎり,イカサマ,いかりのまえば,いわくだき,インファイト,ウェーブタックル,ウッドハンマー,ウッドホーン,うっぷんばらし,えだづき,おどろかす,かいりき,カウンター,かえんぐるま,かかとおとし,かげうち,かたきうち,かみくだく,かみつく,かみなりのキバ,かみなりパンチ,がむしゃら,からげんき,ガリョウテンセイ,かわらわり,がんせきアックス,きあいパンチ,ギガインパクト,きしかいせい,きゅうけつ,きょけんとつげき,きょじゅうざん,きょじゅうだん,キラースピン,きりさく,クイックターン,くさわけ,くちばしキャノン,くらいつく,グラススライダー,クラブハンマー,クロスチョップ,クロスポイズン,げきりん,けたぐり,こうそくスピン,ゴーストダイブ,こおりのキバ,コメットパンチ,ころがる,サイコファング,サイコブレイド,サンダーダイブ,ジェットパンチ,シェルブレード,じごくづき,シザークロス,したでなめる,じたばた,じだんだ,しっぺがえし,しねんのずつき,しめつける,ジャイロボール,シャドークロー,シャドーダイブ,シャドーパンチ,じゃれつく,しんそく,スイープビンタ,すいりゅうれんだ,ずつき,すてみタックル,スパーク,スマートホーン,せいなるつるぎ,ソウルクラッシュ,ソーラーブレード,そらをとぶ,たいあたり,ダイビング,たきのぼり,たたきつける,ダブルアタック,ダブルウイング,ダメおし,ちきゅうなげ,ついばむ,つけあがる,つじぎり,つつく,つっぱり,つのでつく,つのドリル,つばさでうつ,つばめがえし,つるのムチ,であいがしら,てかげん,でんこうせっか,でんこうそうげき,どくづき,どくどくのキバ,どげざつき,ドゲザン,とっしん,とっておき,とどめばり,とびかかる,とびつく,とびはねる,とびひざげり,ともえなげ,ドラゴンクロー,ドラゴンダイブ,ドラゴンテール,ドラゴンハンマー,トリプルアクセル,トリプルキック,トリプルダイブ,ドリルくちばし,ドリルライナー,ドレインパンチ,トロピカルキック,どろぼう,とんぼがえり,にぎりつぶす,にどげり,ニトロチャージ,ねこだまし,ネズミざん,のしかかり,ハードプレス,ハイパードリル,はいよるいちげき,ばかぢから,はがねのつばさ,ばくれつパンチ,ハサミギロチン,はさむ,はたきおとす,はたく,はっけい,はやてがえし,バリアーラッシュ,バレットパンチ,パワーウィップ,パワフルエッジ,ヒートスタンプ,ひけん・ちえなみ,ひっかく,びりびりちくちく,ふいうち,フェイタルクロー,ぶちかまし,ふみつけ,フライングプレス,フレアドライブ,ブレイククロー,ブレイズキック,ブレイブバード,ふんどのこぶし,ぶんまわす,ヘビーボンバー,ホイールスピン,ポイズンテール,ほうふく,ほしがる,ほっぺすりすり,ボディプレス,ほのおのキバ,ほのおのパンチ,ほのおのムチ,ボルテッカー,まきつく,マッハパンチ,みだれづき,みだれひっかき,みねうち,むしくい,むねんのつるぎ,メガトンキック,メガトンパンチ,メガホーン,メタルクロー,メテオドライブ,もろはのずつき,やけっぱち,ゆきなだれ,らいげき,らいめいげり,リーフブレード,レイジングブル,れいとうパンチ,れんぞくぎり,ローキック,ワイドブレイカー,ワイルドボルト,わるあがき';
zikawaza=zikawaza.split(',');

var handouwaza="アフロブレイク.ウェーブタックル,ウッドハンマー,かかとおとし,サンダーダイブ,じごくぐるま,すてみタックル,とっしん,とびげり,とびひざげり,はめつのひかり,フレアドライブ,ブレイブバード,ボルテッカー,もろはのずつき,ワイルドボルト";
handouwaza=handouwaza.split(',');

var pantiwaza="アームハンマー,アイスハンマー,あんこくきょうだ,かみなりパンチ,きあいパンチ,グロウパンチ,コメットパンチ,ジェットパンチ,シャドーパンチ,すいりゅうれんだ,スカイアッパー,ダブルパンツァー,ドレインパンチ,ばくれつパンチ,バレットパンチ,ピヨピヨパンチ,ぶちかまし,プラズマフィスト,ふんどのこぶし,ほのおのパンチ,マッハパンチ,メガトンパンチ,れいとうパンチ,れんぞくパンチ";
pantiwaza=pantiwaza.split(',');

var tuikawaza='バークアウト,ナイトバースト,かみつく,かみくだく,あくのはどう,げんしのちから,がんせきふうじ,いわなだれ,ねんりき,じんつうりき,しねんのずつき,サイコキネシス,サイケこうせん,ローキック,はっけい,ばくれつパンチ,けたぐり,きあいだま,いわくだき,りんごさん,トロピカルキック,エナジーボール,Gのちから,シャドーボール,おどろかす,れいとうビーム,れいとうパンチ,フリーズドライ,ふぶき,つららおとし,こごえるかぜ,こおりのキバ,オーロラビーム,マッドショット,どろかけ,だいちのちから,じならし,ほっぺすりすり,ほうでん,びりびりちくちく,でんじほう,でんきショック,チャージビーム,スパーク,かみなりパンチ,かみなりのキバ,かみなり,エレキネット,10まんボルト,ようかいえき,ポイズンテール,ヘドロばくだん,ヘドロこうげき,ヘドロウェーブ,どくばり,どくどくのキバ,どくづき,ダストシュート,スモッグ,クロスポイズン,ワイドブレイカー,りゅうのいぶき,ドラゴンダイブ,たつまき,ブレイククロー,ふみつけ,のしかかり,ねこだまし,トライアタック,ずつき,こうそくスピン,いびき,ラスターカノン,メタルクロー,はがねのつばさ,コメットパンチ,アイアンヘッド,アイアンテール,とびはねる,ゴッドバード,エアスラッシュ,ムーンフォース,ソウルクラッシュ,じゃれつく,れんごく,マジカルフレイム,ほのおのムチ,ほのおのまい,ほのおのパンチ,ほのおのキバ,ふんえん,ひのこ,ねっぷう,だいもんじ,かえんほうしゃ,みずのはどう,バブルこうせん,だくりゅう,たきのぼり,シェルブレード,アクアブレイク,むしのていこう,むしのさざめき,はいよるいちげき,とびかかる';
tuikawaza=tuikawaza.split(',');

var kamiwaza="エラがみ,かみくだく,かみつく,かみなりのキバ,くらいつく,こおりのキバ,サイコファング,どくどくのキバ,ひっさつまえば,ほのおのキバ";
kamiwaza=kamiwaza.split(',');

var hadouwaza="あくのはどう,こんげんのはどう,だいちのはどう,はどうだん,みずのはどう,りゅうのはどう";
hadouwaza=hadouwaza.split('.');

function dame(){
	var syoki=4096;
	var aa;
	var dd;
	var aa2;
	var dd2;
	var m1=[];
	var m2=[];
	for(i=0;i<12;i++){
		m1[i]=syoki;
		m2[i]=syoki;
	}
	
	var waza1_name=waza1.value;
	var waza2_name=waza2.value;

	var key1=waza1name.innerHTML;
	var key1s=key1.split('、');
	key1s[0]=(key1s[0].split('：'))[1];
	key1s[1]=(key1s[1].split('：'))[1];
	key1s[2]=(key1s[2].split('）'))[0];
	var key4=waza2name.innerHTML;
	var key4s=key4.split('、');
	key4s[0]=(key4s[0].split('：'))[1];
	key4s[1]=(key4s[1].split('：'))[1];
	key4s[2]=(key4s[2].split('）'))[0];
	
	var level1=Number(level.value);
	var level2=Number(slevel.value);
	
	var key2=poketype.innerHTML;
	var key2s=key2.split(",");
	var key3=spoketype.innerHTML;
	var key3s=key3.split(",");
	
	var key5s=sonotalist.value.split(",");
	var key6s=ssonotalist.value.split(",");
	
	var iry=syoki;//
	var iry3=Number(key1s[0]);
	var iry2=syoki;//
	var iry4=Number(key4s[0]);
	
	if(waza1_name=="ダメおし"){
		if(subuc.checked){
			iry3=2*iry3;
		}
	}
	if(waza2_name=="ダメおし"){
		if(ssubuc.checked){
			iry4=2*iry4;
		}
	}
	if(waza1_name=="アクロバット" && motimono.value=="なし"){
		iry3=2*iry3;
	}
	if(waza2_name=="アクロバット" && smotimono.value=="なし"){
		iry4=2*iry4;
	}
	if(waza1_name=="ゆきなだれ"){
		if(subuc.checked){
			iry3=2*iry3;
		}
	}
	if(waza2_name=="ゆきなだれ"){
		if(ssubuc.checked){
			iry4=2*iry4;
		}
	}
	
	//とうそうしん下降
	if(tokusei.value=="とうそうしん" && !tmukou.checked && tokuseisubc.value=="異性"){
		iry=Math.round(3072*iry/syoki);
	}
	if(stokusei.value=="とうそうしん" && !stmukou.checked && stokuseisubc.value=="異性"){
		iry2=Math.round(3072*iry2/syoki);
	}
	
	//スキン系
	if(key1s[1]=="ノーマル"){
		if(tokusei.value=="エレキスキン" && !tmukou.checked){
			key1s[1]="でんき";
			iry=Math.round(4915*iry/syoki);
		}else if(tokusei.value=="フェアリースキン" && !tmukou.checked){
			key1s[1]="フェアリー";
			iry=Math.round(4915*iry/syoki);
		}else if(tokusei.value=="スカイスキン" && !tmukou.checked){
			key1s[1]="ひこう";
			iry=Math.round(4915*iry/syoki);
		}else if(tokusei.value=="フリーズスキン" && !tmukou.checked){
			key1s[1]="こおり";
			iry=Math.round(4915*iry/syoki);
		}
	}
	if(key4s[1]=="ノーマル"){
		if(stokusei.value=="エレキスキン" && !stmukou.checked){
			key4s[1]="でんき";
			iry2=Math.round(4915*iry2/syoki);
		}else if(stokusei.value=="フェアリースキン" && !stmukou.checked){
			key4s[1]="フェアリー";
			iry2=Math.round(4915*iry2/syoki);
		}else if(stokusei.value=="スカイスキン" && !stmukou.checked){
			key4s[1]="ひこう";
			iry2=Math.round(4915*iry2/syoki);
		}else if(stokusei.value=="フリーズスキン" && !stmukou.checked){
			key4s[1]="こおり";
			iry2=Math.round(4915*iry2/syoki);
		}
	}
	
	//すてみ
	if(tokusei.value=="すてみ" && !tmukou.checked){
		if(handouwaza.indexOf(waza1_name)!=-1){
			iry=Math.round(4915*iry/syoki);
		}
	}
	if(stokusei.value=="すてみ" && !stmukou.checked){
		if(handouwaza.indexOf(waza2_name)!=-1){
			iry2=Math.round(4915*iry2/syoki);
		}
	}
	
	//てつのこぶし
	if(tokusei.value=="てつのこぶし" && !tmukou.checked){
		if(pantiwaza.indexOf(waza1_name)!=-1){
			iry=Math.round(4915*iry/syoki);
		}
	}
	if(stokusei.value=="てつのこぶし" && !stmukou.checked){
		if(pantiwaza.indexOf(waza2_name)!=-1){
			iry2=Math.round(4915*iry2/syoki);
		}
	}
	
	//とうそうしん上昇
	if(tokusei.value=="とうそうしん" && !tmukou.checked && tokuseisubc.value=="同性"){
		iry=Math.round(5120*iry/syoki);
	}
	if(stokusei.value=="とうそうしん" && !stmukou.checked && stokuseisubc.value=="同性"){
		iry2=Math.round(5120*iry2/syoki);
	}
	
	//バッテリー
	if(key5s.indexOf("バッテリー")!=-1){
		if(key1s[2]=="特殊"){
			iry=Math.round(5325*iry/syoki);
		}
	}
	if(key6s.indexOf("バッテリー")!=-1){
		if(key4s[2]=="特殊"){
			iry2=Math.round(5325*iry2/syoki);
		}
	}
	
	//パワースポット
	if(key5s.indexOf("パワースポット")!=-1){
		iry=Math.round(5325*iry/syoki);
	}
	if(key6s.indexOf("パワースポット")!=-1){
		iry2=Math.round(5325*iry2/syoki);
	}
	
	//アナライズ
	if(tokusei.value=="アナライズ" && !tmukou.checked){
		if(tokuseisubc.checked){
			iry=Math.round(5325*iry/syoki);
		}
	}
	if(stokusei.value=="アナライズ" && !stmukou.checked){
		if(stokuseisubc.checked){
			iry2=Math.round(5325*iry2/syoki);
		}
	}
	
	//かたいつめ
	if(tokusei.value=="かたいツメ" && !tmukou.checked){
		if(zikawaza.indexOf(waza1_name)!=-1){
			iry=Math.round(5325*iry/syoki);
		}
	}
	if(stokusei.value=="かたいツメ" && !stmukou.checked){
		if(zikawaza.indexOf(waza2_name)!=-1){
			iry2=Math.round(5325*iry2/syoki);
		}
	}
	
	//すなのちから
	if(tokusei.value=="すなのちから" && !tmukou.checked){
		if(tenki.value=="すなあらし" && key5s.indexOf("ノーてんき")==-1 && key5s.indexOf("エアロック")==-1 && key6s.indexOf("ノーてんき")==-1 && key6s.indexOf("エアロック")==-1){
			if(key1s[1]=="いわ" || key1s[1]=="はがね" || key1s[1]=="じめん"){
				iry=Math.round(5325*iry/syoki);
			}
		}
	}
	if(stokusei.value=="すなのちから" && !stmukou.checked){
		if(tenki.value=="すなあらし" && key5s.indexOf("ノーてんき")==-1 && key5s.indexOf("エアロック")==-1 && key6s.indexOf("ノーてんき")==-1 && key6s.indexOf("エアロック")==-1){
			if(key4s[1]=="いわ" || key4s[1]=="はがね" || key4s[1]=="じめん"){
				iry2=Math.round(5325*iry2/syoki);
			}
		}
	}
	
	//ちからずく
	if(tokusei.value=="ちからずく" && !tmukou.checked){
		if(tuikawaza.indexOf(waza1_name)!=-1){
			iry=Math.round(5325*iry/syoki);
		}
	}
	if(stokusei.value=="ちからずく" && !stmukou.checked){
		if(tuikawaza.indexOf(waza2_name)!=-1){
			iry2=Math.round(5325*iry2/syoki);
		}
	}
	
	//パンクロック
	if(tokusei.value=="パンクロック" && !tmukou.checked){
		if(otowaza.indexOf(waza1_name)!=-1){
			iry=Math.round(5325*iry/syoki);
		}
		if(otowaza.indexOf(waza2_name)!=-1){
			if(stokusei.value!="かたやぶり"){
				m2[4]=0.5*m2[4];
			}else if(stmukou.checked){
				m2[4]=0.5*m2[4];
			}
		}
	}
	if(stokusei.value=="パンクロック" && !stmukou.checked){
		if(otowaza.indexOf(waza2_name)!=-1){
			iry2=Math.round(5325*iry2/syoki);
		}
		if(otowaza.indexOf(waza1_name)!=-1){
			if(tokusei.value!="かたやぶり"){
				m1[4]=0.5*m1[4];
			}else if(tmukou.checked){
				m1[4]=0.5*m1[4];
			}
		}
	}
	
	//がんじょうあご
	if(tokusei.value=="がんじょうあご" && !tmukou.checked){
		if(kamiwaza.indexOf(waza1_name)!=-1){
			iry=Math.round(6144*iry/syoki);
		}
	}
	if(stokusei.value=="がんじょうあご" && !stmukou.checked){
		if(kamiwaza.indexOf(waza2_name)!=-1){
			iry2=Math.round(6144*iry2/syoki);
		}
	}
	
	//テクニシャン
	if(tokusei.value=="テクニシャン" && !tmukou.checked){
		if(iry3<=60){
			iry=Math.round(6144*iry/syoki);
		}
	}
	if(stokusei.value=="テクニシャン" && !stmukou.checked){
		if(iry4<=60){
			iry2=Math.round(6144*iry2/syoki);
		}
	}
	
	//どくぼうそう
	if(tokusei.value=="どくぼうそう" && !tmukou.checked && ijo.value=="どく" && key1s[2]=="物理"){
		iry=Math.round(6144*iry/syoki);
	}
	if(stokusei.value=="どくぼうそう" && !stmukou.checked && sijo.value=="どく" && key4s[2]=="物理"){
		iry2=Math.round(6144*iry2/syoki);
	}
	
	//ねつぼうそう
	if(tokusei.value=="ねつぼうそう" && !tmukou.checked && ijo.value=="やけど" && key1s[2]=="特殊"){
		iry=Math.round(6144*iry/syoki);
	}
	if(stokusei.value=="ねつぼうそう" && !stmukou.checked && sijo.value=="やけど" && key4s[2]=="特殊"){
		iry2=Math.round(6144*iry2/syoki);
	}
	
	//はがねのせいしん
	if(key5s.indexOf("はがねのせいしん")!=-1 && key1s[1]=="はがね"){
		iry=Math.round(6144*iry/syoki);
	}
	if(key6s.indexOf("はがねのせいしん")!=-1 && key4s[1]=="はがね"){
		iry2=Math.round(6144*iry2/syoki);
	}
	
	//メガランチャー
	if(tokusei.value=="メガランチャー" && !tmukou.checked){
		if(hadouwaza.indexOf(waza1_name)!=-1){
			iry=Math.round(6144*iry/syoki);
		}
	}
	if(stokusei.value=="メガランチャー" && !stmukou.checked){
		if(hadouwaza.indexOf(waza2_name)!=-1){
			iry2=Math.round(6144*iry2/syoki);
		}
	}
	
	//たいねつ
	if(tokusei.value=="たいねつ" && !tmukou.checked && key4s[1]=="ほのお"){
		iry2=Math.round(2048*iry2/syoki);
	}
	if(stokusei.value=="たいねつ" && !stmukou.checked && key1s[1]=="ほのお"){
		iry=Math.round(2048*iry/syoki);
	}
	
	//かんそうはだ
	if(tokusei.value=="かんそうはだ" && !tmukou.checked && key4s[1]=="ほのお"){
		iry2=Math.round(5120*iry2/syoki);
	}
	if(stokusei.value=="かんそうはだ" && !stmukou.checked && key1s[1]=="ほのお"){
		iry=Math.round(5120*iry/syoki);
	}
	
	//ちからのハチマキ
	if(motimono.value=="ちからのハチマキ" && key1s[2]=="物理"){
		iry=Math.round(4505*iry/syoki);
	}
	if(smotimono.value=="ちからのハチマキ" && key4s[2]=="物理"){
		iry2=Math.round(4505*iry2/syoki);
	}
	
	//ものしりメガネ
	if(motimono.value=="ものしりメガネ" && key1s[2]=="特殊"){
		iry=Math.round(4505*iry/syoki);
	}
	if(smotimono.value=="ものしりメガネ" && key4s[2]=="特殊"){
		iry2=Math.round(4505*iry2/syoki);
	}
	
	//タイプ強化系アイテム
	if(motimono.value=="タイプ強化系アイテム"){
		iry=Math.round(4915*iry/syoki);
	}
	if(smotimono.value=="タイプ強化系アイテム"){
		iry2=Math.round(4915*iry2/syoki);
	}
	
	//こころのしずく、こんごうだま、しらたま、はっきんだま
	if(motimono.value=="こころのしずく" && name.value=="ラティオス"){
		if(key1s[1]=="ドラゴン" || key1s[1]=="エスパー"){
			iry=Math.round(4915*iry/syoki);
		}
	}else if(motimono.value=="こころのしずく" && name.value=="ラティアス"){
		if(key1s[1]=="ドラゴン" || key1s[1]=="エスパー"){
			iry=Math.round(4915*iry/syoki);
		}
	}else if(motimono.value=="こんごうだま" && name.value=="ディアルガ"){
		if(key1s[1]=="ドラゴン" || key1s[1]=="はがね"){
			iry=Math.round(4915*iry/syoki);
		}
	}else if(motimono.value=="しらたま" && name.value=="パルキア"){
		if(key1s[1]=="ドラゴン" || key1s[1]=="みず"){
			iry=Math.round(4915*iry/syoki);
		}
	}else if(motimono.value=="はっきんだま" && name.value=="ギラティナ"){
		if(key1s[1]=="ドラゴン" || key1s[1]=="ゴースト"){
			iry=Math.round(4915*iry/syoki);
		}
	}
	if(smotimono.value=="こころのしずく" && sname.value=="ラティオス"){
		if(key4s[1]=="ドラゴン" || key4s[1]=="エスパー"){
			iry2=Math.round(4915*iry2/syoki);
		}
	}else if(smotimono.value=="こころのしずく" && sname.value=="ラティアス"){
		if(key4s[1]=="ドラゴン" || key4s[1]=="エスパー"){
			iry2=Math.round(4915*iry2/syoki);
		}
	}else if(smotimono.value=="こんごうだま" && sname.value=="ディアルガ"){
		if(key4s[1]=="ドラゴン" || key4s[1]=="はがね"){
			iry2=Math.round(4915*iry2/syoki);
		}
	}else if(smotimono.value=="しらたま" && sname.value=="パルキア"){
		if(key4s[1]=="ドラゴン" || key4s[1]=="みず"){
			iry2=Math.round(4915*iry2/syoki);
		}
	}else if(smotimono.value=="はっきんだま" && sname.value=="ギラティナ"){
		if(key4s[1]=="ドラゴン" || key4s[1]=="ゴースト"){
			iry2=Math.round(4915*iry2/syoki);
		}
	}
	
	//ノーマルジュエル
	if(motimono.value=="ノーマルジュエル" && key1s[1]=="ノーマル"){
		iry=Math.round(5325*iry/syoki);
	}
	if(smotimono.value=="ノーマルジュエル" && key4s[1]=="ノーマル"){
		iry2=Math.round(5325*iry2/syoki);
	}
	
	//ソーラービーム
	if(tenki.value=="あめ" || tenki.value=="ゆき" || tenki.value=="すなあらし"){
		if(key5s.indexOf("ノーてんき")==-1 && key5s.indexOf("エアロック")==-1 && key6s.indexOf("ノーてんき")==-1 && key6s.indexOf("エアロック")==-1){
			if(motimono.value!="ばんのうがさ"){
				if(waza1_name=="ソーラービーム" || waza1_name=="ソーラーブレード"){
					iry=Math.round(2048*iry/syoki);
				}
			}
			if(smotimono.value!="ばんのうがさ"){
				if(waza2_name=="ソーラービーム" || waza2_name=="ソーラーブレード"){
					iry2=Math.round(2048*iry2/syoki);
				}
			}
		}
	}
	
	//ハイドロスチーム
	if(tenki.value=="はれ"){
		if(key5s.indexOf("ノーてんき")==-1 && key5s.indexOf("エアロック")==-1 && key6s.indexOf("ノーてんき")==-1 && key6s.indexOf("エアロック")==-1){
			if(motimono.value!="ばんのうがさ"){
				if(waza1_name=="ハイドロスチーム"){
					iry=Math.round(6144*iry/syoki);
				}
			}
			if(smotimono.value!="ばんのうがさ"){
				if(waza2_name=="ハイドロスチーム"){
					iry2=Math.round(6144*iry2/syoki);
				}
			}
		}
	}
	
	//Gのちから
	if(key5s.indexOf("じゅうりょく")!=-1 || key6s.indexOf("じゅうりょく")!=-1){
		if(waza1_name=="Gのちから"){
			iry=Math.round(6144*iry/syoki);
		}
		if(waza2_name=="Gのちから"){
			iry2=Math.round(6144*iry2/syoki);
		}
	}
	
	//はたきおとす
	if(waza1_name=="はたきおとす" && smotimono.value!="なし"){
		iry=Math.round(6144*iry/syoki);
	}
	if(waza2_name=="はたきおとす" && motimono.value!="なし"){
		iry2=Math.round(6144*iry2/syoki);
	}
	
	//ミストバースト
	if(waza1_name=="ミストバースト" && firudo.value=="ミストフィールド"){
		if(key5s.indexOf("じゅうりょく")!=-1){
			iry=Math.round(6144*iry/syoki);
		}else if(key2s.indexOf("ひこう")==-1){
			if(terasu.value!="ひこう"){
				if(tokusei.value!="ふゆう"){
					iry=Math.round(6144*iry/syoki);
				}else if(tmukou.checked){
					iry=Math.round(6144*iry/syoki);
				}
			}
		}else if(key2s.indexOf("ひこう")!=-1){
			if(terasu.value!="ひこう" && terasu.value!="なし"){
				if(tokusei.value!="ふゆう"){
					iry=Math.round(6144*iry/syoki);
				}else if(tmukou.checked){
					iry=Math.round(6144*iry/syoki);
				}
			}
		}
	}
	if(waza2_name=="ミストバースト" && sfirudo.value=="ミストフィールド"){
		if(key6s.indexOf("じゅうりょく")!=-1){
			iry2=Math.round(6144*iry2/syoki);
		}else if(key3s.indexOf("ひこう")==-1){
			if(sterasu.value!="ひこう"){
				if(stokusei.value!="ふゆう"){
					iry2=Math.round(6144*iry2/syoki);
				}else if(stmukou.checked){
					iry2=Math.round(6144*iry2/syoki);
				}
			}
		}else if(key3s.indexOf("ひこう")!=-1){
			if(sterasu.value!="ひこう" && sterasu.value!="なし"){
				if(stokusei.value!="ふゆう"){
					iry2=Math.round(6144*iry2/syoki);
				}else if(stmukou.checked){
					iry2=Math.round(6144*iry2/syoki);
				}
			}
		}
	}
	
	//ワイドフォース
	if(waza1_name=="ワイドフォース" && firudo.value=="サイコフィールド"){
		if(key5s.indexOf("じゅうりょく")!=-1){
			iry=Math.round(6144*iry/syoki);
		}else if(key2s.indexOf("ひこう")==-1){
			if(terasu.value!="ひこう"){
				if(tokusei.value!="ふゆう"){
					iry=Math.round(6144*iry/syoki);
				}else if(tmukou.checked){
					iry=Math.round(6144*iry/syoki);
				}
			}
		}else if(key2s.indexOf("ひこう")!=-1){
			if(terasu.value!="ひこう" && terasu.value!="なし"){
				if(tokusei.value!="ふゆう"){
					iry=Math.round(6144*iry/syoki);
				}else if(tmukou.checked){
					iry=Math.round(6144*iry/syoki);
				}
			}
		}
	}
	if(waza2_name=="ワイドフォース" && sfirudo.value=="サイコフィールド"){
		if(key6s.indexOf("じゅうりょく")!=-1){
			iry2=Math.round(6144*iry2/syoki);
		}else if(key3s.indexOf("ひこう")==-1){
			if(sterasu.value!="ひこう"){
				if(stokusei.value!="ふゆう"){
					iry2=Math.round(6144*iry2/syoki);
				}else if(stmukou.checked){
					iry2=Math.round(6144*iry2/syoki);
				}
			}
		}else if(key3s.indexOf("ひこう")!=-1){
			if(sterasu.value!="ひこう" && sterasu.value!="なし"){
				if(stokusei.value!="ふゆう"){
					iry2=Math.round(6144*iry2/syoki);
				}else if(stmukou.checked){
					iry2=Math.round(6144*iry2/syoki);
				}
			}
		}
	}
	
	//てだすけ
	if(key5s.indexOf("てだすけ")!=-1){
		iry=Math.round(6144*iry/syoki);
	}
	if(key6s.indexOf("てだすけ")!=-1){
		iry2=Math.round(6144*iry2/syoki);
	}
	
	//じゅうでん	
	if(key5s.indexOf("じゅうでん")!=-1 && key1s[1]=="でんき"){
		iry=Math.round(8192*iry/syoki);
	}
	if(key6s.indexOf("じゅうでん")!=-1 && key4s[1]=="でんき"){
		iry2=Math.round(8192*iry2/syoki);
	}
	
	//うっぷんばらし
	if(waza1_name=="うっぷんばらし"){
		if(subuc.checked){
			iry=Math.round(8192*iry/syoki);
		}
	}
	if(waza2_name=="うっぷんばらし"){
		if(ssubuc.checked){
			iry2=Math.round(8192*iry2/syoki);
		}
	}
	
	//かたきうち
	if(waza1_name=="かたきうち"){
		if(subuc.checked){
			iry=Math.round(8192*iry/syoki);
		}
	}
	if(waza2_name=="かたきうち"){
		if(ssubuc.checked){
			iry2=Math.round(8192*iry2/syoki);
		}
	}
	
	//からげんき
	if(waza1_name=="からげんき"){
		if(ijo.value=="やけど" || ijo.value=="どく" || ijo.value=="まひ"){
			iry=Math.round(8192*iry/syoki);
		}
	}
	if(waza2_name=="からげんき"){
		if(sijo.value=="やけど" || sijo.value=="どく" || sijo.value=="まひ"){
			iry2=Math.round(8192*iry2/syoki);
		}
	}
	
	//クロスサンダー・クロスフレイム
	if(waza1_name=="クロスサンダー"){
		if(subuc.checked){
			iry=Math.round(8192*iry/syoki);
		}
	}
	if(waza2_name=="クロスサンダー"){
		if(ssubuc.checked){
			iry2=Math.round(8192*iry2/syoki);
		}
	}
	if(waza1_name=="クロスフレイム"){
		if(subuc.checked){
			iry=Math.round(8192*iry/syoki);
		}
	}
	if(waza2_name=="クロスフレイム"){
		if(ssubuc.checked){
			iry2=Math.round(8192*iry2/syoki);
		}
	}
	
	//しおみず
	if(waza1_name=="しおみず"){
		if(subuc.checked){
			iry=Math.round(8192*iry/syoki);
		}
	}
	if(waza2_name=="しおみず"){
		if(ssubuc.checked){
			iry2=Math.round(8192*iry2/syoki);
		}
	}
	
	//ベノムショック
	if(waza1_name=="ベノムショック"){
		if(sijo.value=="どく"){
			iry=Math.round(8192*iry/syoki);
		}
	}
	if(waza2_name=="ベノムショック"){
		if(ijo.value=="どく"){
			iry2=Math.round(8192*iry2/syoki);
		}
	}
	
	//ライジングボルト
	if(waza1_name=="ライジングボルト"){
		if(firudo.value=="エレキフィールド"){
			if(key6s.indexOf("じゅうりょく")!=-1){
				iry=Math.round(8192*iry/syoki);
			}else if(key3s.indexOf("ひこう")==-1){
				if(sterasu.value!="ひこう"){
					if(stokusei.value!="ふゆう"){
						iry=Math.round(8192*iry/syoki);
					}else if(stmukou.checked){
						iry=Math.round(8192*iry/syoki);
					}
				}
			}else if(key3s.indexOf("ひこう")!=-1){
				if(sterasu.value!="ひこう" && sterasu.value!="なし"){
					if(stokusei.value!="ふゆう"){
						iry=Math.round(8192*iry/syoki);
					}else if(stmukou.checked){
						iry=Math.round(8192*iry/syoki);
					}
				}
			}
		}
	}
	if(waza2_name=="ライジングボルト"){
		if(firudo.value=="エレキフィールド"){
			if(key5s.indexOf("じゅうりょく")!=-1){
				iry2=Math.round(8192*iry2/syoki);
			}else if(key2s.indexOf("ひこう")==-1){
				if(terasu.value!="ひこう"){
					if(tokusei.value!="ふゆう"){
						iry2=Math.round(8192*iry2/syoki);
					}else if(tmukou.checked){
						iry2=Math.round(8192*iry2/syoki);
					}
				}
			}else if(key2s.indexOf("ひこう")!=-1){
				if(terasu.value!="ひこう" && terasu.value!="なし"){
					if(tokusei.value!="ふゆう"){
						iry2=Math.round(8192*iry2/syoki);
					}else if(tmukou.checked){
						iry2=Math.round(8192*iry2/syoki);
					}
				}
			}
		}
	}
	
	//フィールド(弱化)
	if(firudo.value=="グラスフィールド"){
		if(key6s.indexOf("じゅうりょく")!=-1){
			if(waza1_name=="じしん" || waza1_name=="じならし"){
				iry=Math.round(2048*iry/syoki);
			}
		}else if(key3s.indexOf("ひこう")==-1){
			if(sterasu.value!="ひこう"){
				if(stokusei.value!="ふゆう"){
					if(waza1_name=="じしん" || waza1_name=="じならし"){
						iry=Math.round(2048*iry/syoki);
					}
				}else if(stmukou.checked){
					if(waza1_name=="じしん" || waza1_name=="じならし"){
						iry=Math.round(2048*iry/syoki);
					}
				}
			}
		}else if(key3s.indexOf("ひこう")!=-1){
			if(sterasu.value!="ひこう" && sterasu.value!="なし"){
				if(stokusei.value!="ふゆう"){
					if(waza1_name=="じしん" || waza1_name=="じならし"){
						iry=Math.round(2048*iry/syoki);
					}
				}else if(stmukou.checked){
					if(waza1_name=="じしん" || waza1_name=="じならし"){
						iry=Math.round(2048*iry/syoki);
					}
				}
			}
		}
		if(key5s.indexOf("じゅうりょく")!=-1){
			if(waza2_name=="じしん" || waza2_name=="じならし"){
				iry2=Math.round(2048*iry2/syoki);
			}
		}else if(key2s.indexOf("ひこう")==-1){
			if(terasu.value!="ひこう"){
				if(tokusei.value!="ふゆう"){
					if(waza2_name=="じしん" || waza2_name=="じならし"){
						iry2=Math.round(2048*iry2/syoki);
					}
				}else if(tmukou.checked){
					if(waza2_name=="じしん" || waza2_name=="じならし"){
						iry2=Math.round(2048*iry2/syoki);
					}
				}
			}
		}else if(key2s.indexOf("ひこう")!=-1){
			if(terasu.value!="ひこう" && terasu.value!="なし"){
				if(tokusei.value!="ふゆう"){
					if(waza2_name=="じしん" || waza2_name=="じならし"){
						iry2=Math.round(2048*iry2/syoki);
					}
				}else if(tmukou.checked){
					if(waza2_name=="じしん" || waza2_name=="じならし"){
						iry2=Math.round(2048*iry2/syoki);
					}
				}
			}
		}
	}
	if(firudo.value=="ミストフィールド"){
		if(key6s.indexOf("じゅうりょく")!=-1){
			if(key1s[1]=="ドラゴン"){
				iry=Math.round(2048*iry/syoki);
			}
		}else if(key3s.indexOf("ひこう")==-1){
			if(sterasu.value!="ひこう"){
				if(stokusei.value!="ふゆう"){
					if(key1s[1]=="ドラゴン"){
						iry=Math.round(2048*iry/syoki);
					}
				}else if(stmukou.checked){
					if(key1s[1]=="ドラゴン"){
						iry=Math.round(2048*iry/syoki);
					}
				}
			}
		}else if(key3s.indexOf("ひこう")!=-1){
			if(sterasu.value!="ひこう" && sterasu.value!="なし"){
				if(stokusei.value!="ふゆう"){
					if(key1s[1]=="ドラゴン"){
						iry=Math.round(2048*iry/syoki);
					}
				}else if(stmukou.checked){
					if(key1s[1]=="ドラゴン"){
						iry=Math.round(2048*iry/syoki);
					}
				}
			}
		}
		if(key5s.indexOf("じゅうりょく")!=-1){
			if(key4s[1]=="ドラゴン"){
				iry2=Math.round(2048*iry2/syoki);
			}
		}else if(key2s.indexOf("ひこう")==-1){
			if(terasu.value!="ひこう"){
				if(tokusei.value!="ふゆう"){
					if(key4s[1]=="ドラゴン"){
						iry2=Math.round(2048*iry2/syoki);
					}
				}else if(tmukou.checked){
					if(key4s[1]=="ドラゴン"){
						iry2=Math.round(2048*iry2/syoki);
					}
				}
			}
		}else if(key2s.indexOf("ひこう")!=-1){
			if(terasu.value!="ひこう" && terasu.value!="なし"){
				if(tokusei.value!="ふゆう"){
					if(key4s[1]=="ドラゴン"){
						iry2=Math.round(2048*iry2/syoki);
					}
				}else if(tmukou.checked){
					if(key4s[1]=="ドラゴン"){
						iry2=Math.round(2048*iry2/syoki);
					}
				}
			}
		}
	}
	
	//フィールド(強化)
	if(firudo.value=="グラスフィールド"){
		if(key5s.indexOf("じゅうりょく")!=-1){
			if(key1s[1]=="くさ"){
				iry=Math.round(5325*iry/syoki);
			}
		}else if(key2s.indexOf("ひこう")==-1){
			if(terasu.value!="ひこう"){
				if(tokusei.value!="ふゆう"){
					if(key1s[1]=="くさ"){
						iry=Math.round(5325*iry/syoki);
					}
				}else if(tmukou.checked){
					if(key1s[1]=="くさ"){
						iry=Math.round(5325*iry/syoki);
					}
				}
			}
		}else if(key2s.indexOf("ひこう")!=-1){
			if(terasu.value!="ひこう" && terasu.value!="なし"){
				if(tokusei.value!="ふゆう"){
					if(key1s[1]=="くさ"){
						iry=Math.round(5325*iry/syoki);
					}
				}else if(tmukou.checked){
					if(key1s[1]=="くさ"){
						iry=Math.round(5325*iry/syoki);
					}
				}
			}
		}
		if(key6s.indexOf("じゅうりょく")!=-1){
			if(key4s[1]=="くさ"){
				iry2=Math.round(5325*iry2/syoki);
			}
		}else if(key3s.indexOf("ひこう")==-1){
			if(sterasu.value!="ひこう"){
				if(stokusei.value!="ふゆう"){
					if(key4s[1]=="くさ"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}else if(stmukou.checked){
					if(key4s[1]=="くさ"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}
			}
		}else if(key3s.indexOf("ひこう")!=-1){
			if(sterasu.value!="ひこう" && sterasu.value!="なし"){
				if(stokusei.value!="ふゆう"){
					if(key4s[1]=="くさ"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}else if(stmukou.checked){
					if(key4s[1]=="くさ"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}
			}
		}
	}
	if(firudo.value=="エレキフィールド"){
		if(key5s.indexOf("じゅうりょく")!=-1){
			if(key1s[1]=="でんき"){
				iry=Math.round(5325*iry/syoki);
			}
		}else if(key2s.indexOf("ひこう")==-1){
			if(terasu.value!="ひこう"){
				if(tokusei.value!="ふゆう"){
					if(key1s[1]=="でんき"){
						iry=Math.round(5325*iry/syoki);
					}
				}else if(tmukou.checked){
					if(key1s[1]=="でんき"){
						iry=Math.round(5325*iry/syoki);
					}
				}
			}
		}else if(key2s.indexOf("ひこう")!=-1){
			if(terasu.value!="ひこう" && terasu.value!="なし"){
				if(tokusei.value!="ふゆう"){
					if(key1s[1]=="でんき"){
						iry=Math.round(5325*iry/syoki);
					}
				}else if(tmukou.checked){
					if(key1s[1]=="でんき"){
						iry=Math.round(5325*iry/syoki);
					}
				}
			}
		}
		if(key6s.indexOf("じゅうりょく")!=-1){
			if(key4s[1]=="でんき"){
				iry2=Math.round(5325*iry2/syoki);
			}
		}else if(key3s.indexOf("ひこう")==-1){
			if(sterasu.value!="ひこう"){
				if(stokusei.value!="ふゆう"){
					if(key4s[1]=="でんき"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}else if(stmukou.checked){
					if(key4s[1]=="でんき"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}
			}
		}else if(key3s.indexOf("ひこう")!=-1){
			if(sterasu.value!="ひこう" && sterasu.value!="なし"){
				if(stokusei.value!="ふゆう"){
					if(key4s[1]=="でんき"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}else if(stmukou.checked){
					if(key4s[1]=="でんき"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}
			}
		}
	}
	if(firudo.value=="ミストフィールド"){
		if(key5s.indexOf("じゅうりょく")!=-1){
			if(key1s[1]=="フェアリー"){
				iry=Math.round(5325*iry/syoki);
			}
		}else if(key2s.indexOf("ひこう")==-1){
			if(terasu.value!="ひこう"){
				if(tokusei.value!="ふゆう"){
					if(key1s[1]=="フェアリー"){
						iry=Math.round(5325*iry/syoki);
					}
				}else if(tmukou.checked){
					if(key1s[1]=="フェアリー"){
						iry=Math.round(5325*iry/syoki);
					}
				}
			}
		}else if(key2s.indexOf("ひこう")!=-1){
			if(terasu.value!="ひこう" && terasu.value!="なし"){
				if(tokusei.value!="ふゆう"){
					if(key1s[1]=="フェアリー"){
						iry=Math.round(5325*iry/syoki);
					}
				}else if(tmukou.checked){
					if(key1s[1]=="フェアリー"){
						iry=Math.round(5325*iry/syoki);
					}
				}
			}
		}
		if(key6s.indexOf("じゅうりょく")!=-1){
			if(key4s[1]=="フェアリー"){
				iry2=Math.round(5325*iry2/syoki);
			}
		}else if(key3s.indexOf("ひこう")==-1){
			if(sterasu.value!="ひこう"){
				if(stokusei.value!="ふゆう"){
					if(key4s[1]=="フェアリー"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}else if(stmukou.checked){
					if(key4s[1]=="フェアリー"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}
			}
		}else if(key3s.indexOf("ひこう")!=-1){
			if(sterasu.value!="ひこう" && sterasu.value!="なし"){
				if(stokusei.value!="ふゆう"){
					if(key4s[1]=="フェアリー"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}else if(stmukou.checked){
					if(key4s[1]=="フェアリー"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}
			}
		}
	}
	if(firudo.value=="サイコフィールド"){
		if(key5s.indexOf("じゅうりょく")!=-1){
			if(key1s[1]=="エスパー"){
				iry=Math.round(5325*iry/syoki);
			}
		}else if(key2s.indexOf("ひこう")==-1){
			if(terasu.value!="ひこう"){
				if(tokusei.value!="ふゆう"){
					if(key1s[1]=="エスパー"){
						iry=Math.round(5325*iry/syoki);
					}
				}else if(tmukou.checked){
					if(key1s[1]=="エスパー"){
						iry=Math.round(5325*iry/syoki);
					}
				}
			}
		}else if(key2s.indexOf("ひこう")!=-1){
			if(terasu.value!="ひこう" && terasu.value!="なし"){
				if(tokusei.value!="ふゆう"){
					if(key1s[1]=="エスパー"){
						iry=Math.round(5325*iry/syoki);
					}
				}else if(tmukou.checked){
					if(key1s[1]=="エスパー"){
						iry=Math.round(5325*iry/syoki);
					}
				}
			}
		}
		if(key6s.indexOf("じゅうりょく")!=-1){
			if(key4s[1]=="エスパー"){
				iry2=Math.round(5325*iry2/syoki);
			}
		}else if(key3s.indexOf("ひこう")==-1){
			if(sterasu.value!="ひこう"){
				if(stokusei.value!="ふゆう"){
					if(key4s[1]=="エスパー"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}else if(stmukou.checked){
					if(key4s[1]=="エスパー"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}
			}
		}else if(key3s.indexOf("ひこう")!=-1){
			if(sterasu.value!="ひこう" && sterasu.value!="なし"){
				if(stokusei.value!="ふゆう"){
					if(key4s[1]=="エスパー"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}else if(stmukou.checked){
					if(key4s[1]=="エスパー"){
						iry2=Math.round(5325*iry2/syoki);
					}
				}
			}
		}
	}
	
	iry=iry3*iry/syoki;
	if(iry-Math.floor(iry)>0.5){
		iry=Math.floor(iry)+1;
	}else{
		iry=Math.floor(iry);
	}
	
	iry2=iry4*iry2/syoki;
	if(iry2-Math.floor(iry2)>0.5){
		iry2=Math.floor(iry2)+1;
	}else{
		iry2=Math.floor(iry2);
	}
	
	var tai=4096;
	var tai2=4096;
	
	if(key5s.indexOf("もりののろい")!=-1 && terasu.value=="なし"){
		key2s.push("くさ")
	}
	if(key6s.indexOf("もりののろい")!=-1 && sterasu.value=="なし"){
		key3s.push("くさ")
	}
	
	if(key2s.indexOf(key1s[1])!=-1){
		if(terasu.value==key1s[1]){
			if(tokusei.value=="てきおうりょく" && !tmukou.checked){
				tai=2.25*tai;
			}else{
				tai=2*tai;
			}
		}else if(terasu.value=="ステラ"){
			tai=2*tai;
			if(iry<=60){
				iry=60;
			}
		}else{
			tai=1.5*tai;
		}
	}else{
		if(terasu.value==key1s[1]){
			if(tokusei.value=="てきおうりょく" && !tmukou.checked){
				tai=2*tai;
			}else{
				tai=1.5*tai;
			}
			if(iry<=60){
				iry=60;
			}
		}else if(terasu.value=="ステラ"){
			tai=4915;
			if(iry<=60){
				iry=60;
			}
		}else{
			tai=tai;
		}
	}
	if(key3s.indexOf(key4s[1])!=-1){
		if(sterasu.value==key4s[1]){
			if(stokusei.value=="てきおうりょく" && !stmukou.checked){
				tai2=2.25*tai2;
			}else{
				tai2=2*tai2;
			}
			if(iry2<=60){
				iry2=60;
			}
		}else if(sterasu.value=="ステラ"){
			tai2=2*tai2;
			if(iry2<=60){
				iry2=60;
			}
		}else{
			tai2=1.5*tai2;
		}
		
	}else{
		if(sterasu.value==key4s[1]){
			if(stokusei.value=="てきおうりょく" && !stmukou.checked){
				tai2=2*tai2;
			}else{
				tai2=1.5*tai2;
			}
			if(iry2<=60){
				iry2=60;
			}
		}else if(sterasu.value=="ステラ"){
			tai2=4915;
			if(iry2<=60){
				iry2=60;
			}
		}else{
			tai2=tai2;
		}
	}
	
	if(tokusei.value=="ファントムガード" && !tmukou.checked){
		m2[4]=0.5*m2[4];
	}
	if(stokusei.value=="ファントムガード" && !stmukou.checked){
		m1[4]=0.5*m1[4];
	}
	
	if(tokusei.value=="マルチスケイル" && !tmukou.checked){
		if(stokusei.value!="かたやぶり"){
			m2[4]=0.5*m2[4];
		}else if(stmukou.checked){
			m2[4]=0.5*m2[4];
		}
	}
	if(stokusei.value=="マルチスケイル" && !stmukou.checked){
		if(tokusei.value!="かたやぶり"){
			m1[4]=0.5*m1[4];
		}else if(tmukou.checked){
			m1[4]=0.5*m1[4];
		}
	}
	
	if(stokusei.value=="もふもふ" && !stmukou.checked){
		if(tokusei.value!="かたやぶり"){
			if(zikawaza.indexOf(waza1_name)!=-1){
				m1[4]=0.5*m1[4];
			}
		}else if(tmukou.checked){
			if(zikawaza.indexOf(waza1_name)!=-1){
				m1[4]=0.5*m1[4];
			}
		}
	}
	if(tokusei.value=="もふもふ" && !tmukou.checked){
		if(stokusei.value!="かたやぶり"){
			if(zikawaza.indexOf(waza2_name)!=-1){
				m2[4]=0.5*m2[4];
			}
		}else if(stmukou.checked){
			if(zikawaza.indexOf(waza2_name)!=-1){
				m2[4]=0.5*m2[4];
			}
		}
	}
	
	r1_list=1;
	r2_list=1;
	r3_list=1;
	r4_list=1;
	if(tokusei.value=="てんねん" && !tmukou.checked){
		r1_list=0;
		if(stokusei.value!="かたやぶり"){
			r2_list=0;
		}else if(stmukou.checked){
			r2_list=0;
		}
	}
	if(stokusei.value=="てんねん" && !stmukou.checked){
		r3_list=0;
		if(tokusei.value!="かたやぶり"){
			r4_list=0;
		}else if(tmukou.checked){
			r4_list=0;
		}
	}
	v_a_ch=1;
	v_b_ch=1;
	v_c_ch=1;
	v_d_ch=1;
	v_s_ch=1;
	if(r4_list==1){
		if(r_a.value==-6 && !kyuusyo.checked){
			v_a_ch=2/8;
		}else if(r_a.value==-5 && !kyuusyo.checked){
			v_a_ch=2/7;
		}else if(r_a.value==-4 && !kyuusyo.checked){
			v_a_ch=2/6;
		}else if(r_a.value==-3 && !kyuusyo.checked){
			v_a_ch=2/5;
		}else if(r_a.value==-2 && !kyuusyo.checked){
			v_a_ch=2/4;
		}else if(r_a.value==-1 && !kyuusyo.checked){
			v_a_ch=2/3;
		}else if(r_a.value==1){
			v_a_ch=3/2;
		}else if(r_a.value==2){
			v_a_ch=4/2;
		}else if(r_a.value==3){
			v_a_ch=5/2;
		}else if(r_a.value==4){
			v_a_ch=6/2;
		}else if(r_a.value==5){
			v_a_ch=7/2;
		}else if(r_a.value==6){
			v_a_ch=8/2;
		}
	}
	if(r3_list==1){
		if(r_b.value==-6){
			v_b_ch=2/8;
		}else if(r_b.value==-5){
			v_b_ch=2/7;
		}else if(r_b.value==-4){
			v_b_ch=2/6;
		}else if(r_b.value==-3){
			v_b_ch=2/5;
		}else if(r_b.value==-2){
			v_b_ch=2/4;
		}else if(r_b.value==-1){
			v_b_ch=2/3;
		}else if(r_b.value==1 && !skyuusyo.checked){
			v_b_ch=3/2;
		}else if(r_b.value==2 && !skyuusyo.checked){
			v_b_ch=4/2;
		}else if(r_b.value==3 && !skyuusyo.checked){
			v_b_ch=5/2;
		}else if(r_b.value==4 && !skyuusyo.checked){
			v_b_ch=6/2;
		}else if(r_b.value==5 && !skyuusyo.checked){
			v_b_ch=7/2;
		}else if(r_b.value==6 && !skyuusyo.checked){
			v_b_ch=8/2;
		}
	}
	if(r4_list==1){
		if(r_c.value==-6 && !kyuusyo.checked){
			v_c_ch=2/8;
		}else if(r_c.value==-5 && !kyuusyo.checked){
			v_c_ch=2/7;
		}else if(r_c.value==-4 && !kyuusyo.checked){
			v_c_ch=2/6;
		}else if(r_c.value==-3 && !kyuusyo.checked){
			v_c_ch=2/5;
		}else if(r_c.value==-2 && !kyuusyo.checked){
			v_c_ch=2/4;
		}else if(r_c.value==-1 && !kyuusyo.checked){
			v_c_ch=2/3;
		}else if(r_c.value==1){
			v_c_ch=3/2;
		}else if(r_c.value==2){
			v_c_ch=4/2;
		}else if(r_c.value==3){
			v_c_ch=5/2;
		}else if(r_c.value==4){
			v_c_ch=6/2;
		}else if(r_c.value==5){
			v_c_ch=7/2;
		}else if(r_c.value==6){
			v_c_ch=8/2;
		}
	}
	if(r3_list==1){
		if(r_d.value==-6){
			v_d_ch=2/8;
		}else if(r_d.value==-5){
			v_d_ch=2/7;
		}else if(r_d.value==-4){
			v_d_ch=2/6;
		}else if(r_d.value==-3){
			v_d_ch=2/5;
		}else if(r_d.value==-2){
			v_d_ch=2/4;
		}else if(r_d.value==-1){
			v_d_ch=2/3;
		}else if(r_d.value==1 && !skyuusyo.checked){
			v_d_ch=3/2;
		}else if(r_d.value==2 && !skyuusyo.checked){
			v_d_ch=4/2;
		}else if(r_d.value==3 && !skyuusyo.checked){
			v_d_ch=5/2;
		}else if(r_d.value==4 && !skyuusyo.checked){
			v_d_ch=6/2;
		}else if(r_d.value==5 && !skyuusyo.checked){
			v_d_ch=7/2;
		}else if(r_d.value==6 && !skyuusyo.checked){
			v_d_ch=8/2;
		}
	}
	if(r_s.value==-6){
		v_s_ch=2/8;
	}else if(r_s.value==-5){
		v_s_ch=2/7;
	}else if(r_s.value==-4){
		v_s_ch=2/6;
	}else if(r_s.value==-3){
		v_s_ch=2/5;
	}else if(r_s.value==-2){
		v_s_ch=2/4;
	}else if(r_s.value==-1){
		v_s_ch=2/3;
	}else if(r_s.value==1){
		v_s_ch=3/2;
	}else if(r_s.value==2){
		v_s_ch=4/2;
	}else if(r_s.value==3){
		v_s_ch=5/2;
	}else if(r_s.value==4){
		v_s_ch=6/2;
	}else if(r_s.value==5){
		v_s_ch=7/2;
	}else if(r_s.value==6){
		v_s_ch=8/2;
	}
	
	v_z_a=1;
	v_z_b=1;
	v_z_c=1;
	v_z_d=1;
	v_z_s=1;
	if(r2_list==1){
		if(sr_a.value==-6 && !skyuusyo.checked){
			v_z_a=2/8;
		}else if(sr_a.value==-5 && !skyuusyo.checked){
			v_z_a=2/7;
		}else if(sr_a.value==-4 && !skyuusyo.checked){
			v_z_a=2/6;
		}else if(sr_a.value==-3 && !skyuusyo.checked){
			v_z_a=2/5;
		}else if(sr_a.value==-2 && !skyuusyo.checked){
			v_z_a=2/4;
		}else if(sr_a.value==-1 && !skyuusyo.checked){
			v_z_a=2/3;
		}else if(sr_a.value==1){
			v_z_a=3/2;
		}else if(sr_a.value==2){
			v_z_a=4/2;
		}else if(sr_a.value==3){
			v_z_a=5/2;
		}else if(sr_a.value==4){
			v_z_a=6/2;
		}else if(sr_a.value==5){
			v_z_a=7/2;
		}else if(sr_a.value==6){
			v_z_a=8/2;
		}
	}
	if(r1_list==1){
		if(sr_b.value==-6){
			v_z_b=2/8;
		}else if(sr_b.value==-5){
			v_z_b=2/7;
		}else if(sr_b.value==-4){
			v_z_b=2/6;
		}else if(sr_b.value==-3){
			v_z_b=2/5;
		}else if(sr_b.value==-2){
			v_z_b=2/4;
		}else if(sr_b.value==-1){
			v_z_b=2/3;
		}else if(sr_b.value==1 && !kyuusyo.checked){
			v_z_b=3/2;
		}else if(sr_b.value==2 && !kyuusyo.checked){
			v_z_b=4/2;
		}else if(sr_b.value==3 && !kyuusyo.checked){
			v_z_b=5/2;
		}else if(sr_b.value==4 && !kyuusyo.checked){
			v_z_b=6/2;
		}else if(sr_b.value==5 && !kyuusyo.checked){
			v_z_b=7/2;
		}else if(sr_b.value==6 && !kyuusyo.checked){
			v_z_b=8/2;
		}
	}
	if(r2_list==1){
		if(sr_c.value==-6 && !skyuusyo.checked){
			v_z_c=2/8;
		}else if(sr_c.value==-5 && !skyuusyo.checked){
			v_z_c=2/7;
		}else if(sr_c.value==-4 && !skyuusyo.checked){
			v_z_c=2/6;
		}else if(sr_c.value==-3 && !skyuusyo.checked){
			v_z_c=2/5;
		}else if(sr_c.value==-2 && !skyuusyo.checked){
			v_z_c=2/4;
		}else if(sr_c.value==-1 && !skyuusyo.checked){
			v_z_c=2/3;
		}else if(sr_c.value==1){
			v_z_c=3/2;
		}else if(sr_c.value==2){
			v_z_c=4/2;
		}else if(sr_c.value==3){
			v_z_c=5/2;
		}else if(sr_c.value==4){
			v_z_c=6/2;
		}else if(sr_c.value==5){
			v_z_c=7/2;
		}else if(sr_c.value==6){
			v_z_c=8/2;
		}
	}
	if(r1_list==1){
		if(sr_d.value==-6){
			v_z_d=2/8;
		}else if(sr_d.value==-5){
			v_z_d=2/7;
		}else if(sr_d.value==-4){
			v_z_d=2/6;
		}else if(sr_d.value==-3){
			v_z_d=2/5;
		}else if(sr_d.value==-2){
			v_z_d=2/4;
		}else if(sr_d.value==-1){
			v_z_d=2/3;
		}else if(sr_d.value==1 && !kyuusyo.checked){
			v_z_d=3/2;
		}else if(sr_d.value==2 && !kyuusyo.checked){
			v_z_d=4/2;
		}else if(sr_d.value==3 && !kyuusyo.checked){
			v_z_d=5/2;
		}else if(sr_d.value==4 && !kyuusyo.checked){
			v_z_d=6/2;
		}else if(sr_d.value==5 && !kyuusyo.checked){
			v_z_d=7/2;
		}else if(sr_d.value==6 && !kyuusyo.checked){
			v_z_d=8/2;
		}
	}
	if(sr_s.value==-6){
		v_z_s=2/8;
	}else if(sr_s.value==-5){
		v_z_s=2/7;
	}else if(sr_s.value==-4){
		v_z_s=2/6;
	}else if(sr_s.value==-3){
		v_z_s=2/5;
	}else if(sr_s.value==-2){
		v_z_s=2/4;
	}else if(sr_s.value==-1){
		v_z_s=2/3;
	}else if(sr_s.value==1){
		v_z_s=3/2;
	}else if(sr_s.value==2){
		v_z_s=4/2;
	}else if(sr_s.value==3){
		v_z_s=5/2;
	}else if(sr_s.value==4){
		v_z_s=6/2;
	}else if(sr_s.value==5){
		v_z_s=7/2;
	}else if(sr_s.value==6){
		v_z_s=8/2;
	}

	if(key1s[2]=="物理"){
		aa=Math.floor(Number(z_a.value)*v_a_ch);
		dd=Math.floor(Number(sz_b.value)*v_z_b);
	}else if(key1s[2]=="特殊"){
		aa=Math.floor(Number(z_c.value)*v_c_ch);
		dd=Math.floor(Number(sz_d.value)*v_z_d);
		if(stokusei.value=="こおりのりんぷん" && !stmukou.checked){
			if(tokusei.value!="かたやぶり"){
				m1[4]=0.5*m1[4];
			}else if(tmukou.checked){
				m1[4]=0.5*m1[4];
			}
		}
	}
	if(waza1_name=="サイコショック" || waza1_name=="サイコブレイク" || waza1_name=="しんぴのつるぎ"){
		dd=Math.floor(Number(sz_b.value)*v_z_b);
	}else if(waza1_name=="イカサマ"){
		aa=Math.floor(Number(sz_a.value)*v_z_a);
	}else if(waza1_name=="ボディプレス"){
		aa=Math.floor(Number(z_b.value)*v_b_ch);
	}
	
	if(key4s[2]=="物理"){
		aa2=Math.floor(Number(sz_a.value)*v_z_a);
		dd2=Math.floor(Number(z_b.value)*v_b_ch);
	}else if(key4s[2]=="特殊"){
		aa2=Math.floor(Number(sz_c.value)*v_z_c);
		dd2=Math.floor(Number(z_d.value)*v_d_ch);
		if(tokusei.value=="こおりのりんぷん" && !tmukou.checked){
			if(stokusei.value!="かたやぶり"){
				m1[4]=0.5*m1[4];
			}else if(stmukou.checked){
				m1[4]=0.5*m1[4];
			}
		}
	}
	if(waza2_name=="サイコショック" || waza2_name=="サイコブレイク" || waza2_name=="しんぴのつるぎ"){
		dd2=Math.floor(Number(z_b.value)*v_b_ch);
	}else if(waza2_name=="イカサマ"){
		aa2=Math.floor(Number(z_a.value)*v_a_ch);
	}else if(waza2_name=="ボディプレス"){
		aa2=Math.floor(Number(sz_b.value)*v_z_b);
	}
	
	if(key5s.indexOf("フレンドガード")!=-1){
		m2[6]=0.75*m2[6];
	}
	if(key6s.indexOf("フレンドガード")!=-1){
		m1[6]=0.75*m1[6];
	}
	
	var han=4096;
	var han2=4096;
	if(drone[1].checked){
		if(haniwaza.indexOf(waza1_name)!=-1 && waza_name1!="ワイドフォース"){
			han=0.75*han;
		}
		if(haniwaza.indexOf(waza2_name)!=-1 && waza_name2!="ワイドフォース"){
			han2=0.75*han2;
		}
	}
	if(skabe.value=="あり" && tokusei.value!="すりぬけ"){
		if(drone[1].checked){
			m1[0]=2732;
		}else{
			m1[0]=2048;
		}
		if(kyuusyo.checked){
			m1[0]=4096;
		}
	}else  if(skabe.value=="あり" && tokusei.value=="すりぬけ" && tmukou.checked){
		if(drone[1].checked){
			m1[0]=2732;
		}else{
			m1[0]=2048;
		}
		if(kyuusyo.checked){
			m1[0]=4096;
		}
	}
	if(kabe.value=="あり" && stokusei.value!="すりぬけ"){
		if(drone[1].checked){
			m2[0]=2732;
		}else{
			m2[0]=2048;
		}
		if(skyuusyo.checked){
			m2[0]=4096;
		}
	}else if(kabe.value=="あり" && stokusei.value=="すりぬけ" && stmukou.checked){
		if(drone[1].checked){
			m2[0]=2732;
		}else{
			m2[0]=2048;
		}
		if(skyuusyo.checked){
			m2[0]=4096;
		}
	}
	
	var ten=4096;
	var ten2=4096;
	key1=tenki.value;
	if(key1=="はれ" && key5s.indexOf("ノーてんき")==-1 && key5s.indexOf("エアロック")==-1 && key6s.indexOf("ノーてんき")==-1 && key6s.indexOf("エアロック")==-1){
		if(smotimono.value!="ばんのうがさ"){
			if(key1s[1]=="ほのお"){
				ten=6144;
			}else if(key1s[1]=="みず" && waza1_name!="ハイドロスチーム"){
				ten=2048;
			}
		}
		if(motimono.value!="ばんのうがさ"){
			if(key4s[1]=="ほのお"){
				ten2=6144;
			}else if(key4s[1]=="みず" && waza2_name!="ハイドロスチーム"){
				ten2=2048;
			}
		}
	}else if(key1=="あめ" && key5s.indexOf("ノーてんき")==-1 && key5s.indexOf("エアロック")==-1 && key6s.indexOf("ノーてんき")==-1 && key6s.indexOf("エアロック")==-1){
		if(smotimono.value!="ばんのうがさ"){
			if(key1s[1]=="みず"){
				ten=6144;
			}else if(key1s[1]=="ほのお"){
				ten=2048;
			}
		}
		if(motimono.value!="ばんのうがさ"){
			if(key4s[1]=="みず"){
				ten2=6144;
			}else if(key4s[1]=="ほのお"){
				ten2=2048;
			}
		}
	}else if(key1=="ゆき" && key5s.indexOf("ノーてんき")==-1 && key5s.indexOf("エアロック")==-1 && key6s.indexOf("ノーてんき")==-1 && key6s.indexOf("エアロック")==-1){
		if(smotimono.value!="ばんのうがさ"){
			if(key3s.indexOf("こおり")!=-1 && key1s[2]=="物理"){
				dd=Math.floor(dd*1.5);
			}else if(key3s.indexOf("こおり")!=-1 && waza1_name=="サイコショック"){
				dd=Math.floor(dd*1.5);
			}else if(key3s.indexOf("こおり")!=-1 && waza1_name=="サイコブレイク"){
				dd=Math.floor(dd*1.5);
			}else if(key3s.indexOf("こおり")!=-1 && waza1_name=="しんぴのつるぎ"){
				dd=Math.floor(dd*1.5);
			}
		}
		if(motimono.value!="ばんのうがさ"){
			if(key2s.indexOf("こおり")!=-1 && key4s[2]=="物理"){
				dd2=Math.floor(dd*1.5);
			}else if(key2s.indexOf("こおり")!=-1 && waza2_name=="サイコショック"){
				dd2=Math.floor(dd*1.5);
			}else if(key2s.indexOf("こおり")!=-1 && waza2_name=="サイコブレイク"){
				dd2=Math.floor(dd*1.5);
			}else if(key2s.indexOf("こおり")!=-1 && waza2_name=="しんぴのつるぎ"){
				dd2=Math.floor(dd*1.5);
			}
		}
	}else if(key1=="すなあらし" && key5s.indexOf("ノーてんき")==-1 && key5s.indexOf("エアロック")==-1 && key6s.indexOf("ノーてんき")==-1 && key6s.indexOf("エアロック")==-1){
		if(smotimono.value!="ばんのうがさ"){
			if(key3s.indexOf("いわ")!=-1 && key1s[2]=="特殊" && waza1_name!="サイコショック" && waza1_name!="サイコブレイク" && waza1_name!="しんぴのつるぎ"){
				dd=Math.floor(dd*1.5);
			}
		}
		if(motimono.value!="ばんのうがさ"){
			if(key2s.indexOf("いわ")!=-1 && key4s[2]=="特殊" && waza2_name!="サイコショック" && waza2_name!="サイコブレイク" && waza2_name!="しんぴのつるぎ"){
				dd2=Math.floor(dd*1.5);
			}
		}
	}
	
	var ah=syoki;
	var ah2=syoki;
	//スロースタート2048
	if(tokusei.value=="スロースタート" && !tmukou.checked && tokuseisubc.checked){
		if(key1s[2]=="物理"){
			ah=Math.round(ah*2048/4096);
		}
	}
	if(stokusei.value=="スロースタート" && !stmukou.checked && stokuseisubc.checked){
		if(key4s[2]=="物理"){
			ah2=Math.round(ah2*2048/4096);
		}
	}
	
	//わざわいのうつわ3072
	if(key5s.indexOf("わざわいのうつわ")!=-1 || key6s.indexOf("わざわいのうつわ")!=-1){
		if(key1s[2]=="特殊" && tokusei.value!="わざわいのうつわ"){
			ah=Math.round(ah*3072/4096);
		}
		if(key4s[2]=="特殊" && stokusei.value!="わざわいのうつわ"){
			ah2=Math.round(ah2*3072/4096);
		}
	}
	
	//わざわいのおふだ3072
	if(key5s.indexOf("わざわいのおふだ")!=-1 || key6s.indexOf("わざわいのおふだ")!=-1){
		if(key1s[2]=="物理" && tokusei.value!="わざわいのおふだ"){
			ah=Math.round(ah*3072/4096);
		}
		if(key4s[2]=="物理" && stokusei.value!="わざわいのおふだ"){
			ah2=Math.round(ah2*3072/4096);
		}
	}
	
	//クォークチャージ5325
	//こだいかっせい5325
	if(tokusei.value=="クォークチャージ" || tokusei.value=="こだいかっせい"){
		if(!tmukou.checked){
			if(key1s[2]=="特殊" && tokuseisubc.value=="とくこう"){
				ah=Math.round(ah*5325/4096);
			}
			if(key1s[2]=="物理" && tokuseisubc.value=="こうげき"){
				ah=Math.round(ah*5325/4096);
			}
		}
	}
	if(stokusei.value=="クォークチャージ" || stokusei.value=="こだいかっせい"){
		if(!stmukou.checked){
			if(key4s[2]=="特殊" && stokuseisubc.value=="とくこう"){
				ah2=Math.round(ah2*5325/4096);
			}
			if(key4s[2]=="物理" && stokuseisubc.value=="こうげき"){
				ah2=Math.round(ah2*5325/4096);
			}
		}
	}
	
	//トランジスタ5325
	if(tokusei.value=="トランジスタ" && !tmukou.checked && key1s[1]=="でんき"){
		ah=Math.round(ah*5325/4096);
	}
	if(stokusei.value=="トランジスタ" && !stmukou.checked && key4s[1]=="でんき"){
		ah2=Math.round(ah2*5325/4096);
	}
	
	//ハドロンエンジン5461
	if(tokusei.value=="ハドロンエンジン" && !tmukou.checked && firudo.value=="エレキフィールド"){
		if(key1s[2]=="特殊"){
			ah=Math.round(ah*5461/4096);
		}
	}
	if(stokusei.value=="ハドロンエンジン" && !stmukou.checked && firudo.value=="エレキフィールド"){
		if(key4s[2]=="特殊"){
			ah2=Math.round(ah2*5461/4096);
		}
	}
	
	//ひひいろのこどう5461
	if(tokusei.value=="ひひいろのこどう" && !tmukou.checked && tenki.value=="はれ"){
		if(key1s[2]=="物理"){
			ah=Math.round(ah*5461/4096);
		}
	}
	if(stokusei.value=="ひひいろのこどう" && !stmukou.checked && tenki.value=="はれ"){
		if(key4s[2]=="物理"){
			ah2=Math.round(ah2*5461/4096);
		}
	}
	
	//こんじょう6144
	if(tokusei.value=="こんじょう" && !tmukou.checked && ijo.value!="通常"){
		if(key1s[2]=="物理"){
			ah=Math.round(ah*6144/4096);
		}
	}
	if(stokusei.value=="こんじょう" && !stmukou.checked && sijo.value!="通常"){
		if(key4s[2]=="物理"){
			ah2=Math.round(ah2*6144/4096);
		}
	}
	
	//しんりょく
	if(tokusei.value=="しんりょく" && !tmukou.checked && tokuseisubc.checked){
		if(key1s[1]=="くさ"){
			ah=Math.round(ah*6144/4096);
		}
	}
	if(stokusei.value=="しんりょく" && !stmukou.checked && stokuseisubc.checked){
		if(key4s[1]=="くさ"){
			ah2=Math.round(ah2*6144/4096);
		}
	}
	
	//もうか
	if(tokusei.value=="もうか" && !tmukou.checked && tokuseisubc.checked){
		if(key1s[1]=="ほのお"){
			ah=Math.round(ah*6144/4096);
		}
	}
	if(stokusei.value=="もうか" && !stmukou.checked && stokuseisubc.checked){
		if(key4s[1]=="ほのお"){
			ah2=Math.round(ah2*6144/4096);
		}
	}
	
	//げきりゅう
	if(tokusei.value=="げきりゅう" && !tmukou.checked && tokuseisubc.checked){
		if(key1s[1]=="みず"){
			ah=Math.round(ah*6144/4096);
		}
	}
	if(stokusei.value=="げきりゅう" && !stmukou.checked && stokuseisubc.checked){
		if(key4s[1]=="みず"){
			ah2=Math.round(ah2*6144/4096);
		}
	}
	
	//むしのしらせ
	if(tokusei.value=="むしのしらせ" && !tmukou.checked && tokuseisubc.checked){
		if(key1s[1]=="むし"){
			ah=Math.round(ah*6144/4096);
		}
	}
	if(stokusei.value=="むしのしらせ" && !stmukou.checked && stokuseisubc.checked){
		if(key4s[1]=="むし"){
			ah2=Math.round(ah2*6144/4096);
		}
	}
	
	//もらいび
	if(tokusei.value=="もらいび" && !tmukou.checked && tokuseisubc.checked){
		if(key1s[1]=="ほのお"){
			ah=Math.round(ah*6144/4096);
		}
	}
	if(stokusei.value=="もらいび" && !stmukou.checked && stokuseisubc.checked){
		if(key4s[1]=="ほのお"){
			ah2=Math.round(ah2*6144/4096);
		}
	}
	
	//サンパワー
	if(tokusei.value=="サンパワー" && !tmukou.checked && tenki.value==はれ){
		if(key1s[2]=="特殊"){
			ah=Math.round(ah*6144/4096);
		}
	}
	if(stokusei.value=="サンパワー" && !stmukou.checked && tenki.value==はれ){
		if(key4s[2]=="特殊"){
			ah2=Math.round(ah2*6144/4096);
		}
	}
	
	//プラス
	if(tokusei.value=="プラス" && !tmukou.checked && tokuseisubc.checked){
		if(key1s[2]=="特殊"){
			ah=Math.round(ah*6144/4096);
		}
	}
	if(stokusei.value=="プラス" && !stmukou.checked && stokuseisubc.checked){
		if(key4s[2]=="特殊"){
			ah2=Math.round(ah2*6144/4096);
		}
	}
	
	//マイナス
	if(tokusei.value=="マイナス" && !tmukou.checked && tokuseisubc.checked){
		if(key1s[2]=="特殊"){
			ah=Math.round(ah*6144/4096);
		}
	}
	if(stokusei.value=="マイナス" && !stmukou.checked && stokuseisubc.checked){
		if(key4s[2]=="特殊"){
			ah2=Math.round(ah2*6144/4096);
		}
	}
	
	//いわはこび
	if(tokusei.value=="いわはこび" && !tmukou.checked){
		if(key1s[1]=="いわ"){
			ah=Math.round(ah*6144/4096);
		}
	}
	if(stokusei.value=="いわはこび" && !stmukou.checked){
		if(key4s[1]=="いわ"){
			ah2=Math.round(ah2*6144/4096);
		}
	}
	
	//りゅうのあぎと
	if(tokusei.value=="りゅうのあぎと" && !tmukou.checked){
		if(key1s[1]=="ドラゴン"){
			ah=Math.round(ah*6144/4096);
		}
	}
	if(stokusei.value=="りゅうのあぎと" && !stmukou.checked){
		if(key4s[1]=="ドラゴン"){
			ah2=Math.round(ah2*6144/4096);
		}
	}
	
	//ちからもち8192
	if(tokusei.value=="ちからもち" && !tmukou.checked){
		if(key1s[2]=="物理"){
			ah=Math.round(ah*8192/4096);
		}
	}
	if(stokusei.value=="ちからもち" && !stmukou.checked){
		if(key4s[2]=="物理"){
			ah2=Math.round(ah2*8192/4096);
		}
	}
	
	//ヨガパワー
	if(tokusei.value=="ヨガパワー" && !tmukou.checked){
		if(key1s[2]=="物理"){
			ah=Math.round(ah*8192/4096);
		}
	}
	if(stokusei.value=="ヨガパワー" && !stmukou.checked){
		if(key4s[2]=="物理"){
			ah2=Math.round(ah2*8192/4096);
		}
	}
	
	//すいほう+みずタイプの技
	if(tokusei.value=="すいほう" && !tmukou.checked){
		if(key1s[1]=="みず"){
			ah=Math.round(ah*8192/4096);
		}
	}
	if(stokusei.value=="すいほう" && !stmukou.checked){
		if(key1s[1]=="みず"){
			ah2=Math.round(ah2*8192/4096);
		}
	}
	
	//はりこみ
	if(tokusei.value=="はりこみ" && !tmukou.checked && tokuseisubc.checked){
		ah=Math.round(ah*8192/4096);
	}
	if(stokusei.value=="はりこみ" && !stmukou.checked && stokuseisubc.checked){
		ah2=Math.round(ah2*8192/4096);
	}
	
	//あついしぼう2048
	if(tokusei.value=="あついしぼう" && !tmukou.checked){
		if(stokusei.value!="かたやぶり"){
			if(key4s[1]=="こおり" || key4s[1]=="ほのお"){
				ah2=Math.round(ah2*2048/4096);
			}
		}else if(stmukou.checked){
			if(key4s[1]=="こおり" || key4s[1]=="ほのお"){
				ah2=Math.round(ah2*2048/4096);
			}
		}
	}
	if(stokusei.value=="あついしぼう" && !stmukou.checked){
		if(tokusei.value!="かたやぶり"){
			if(key1s[1]=="こおり" || key1s[1]=="ほのお"){
				ah=Math.round(ah*2048/4096);
			}
		}else if(tmukou.checked){
			if(key1s[1]=="こおり" || key1s[1]=="ほのお"){
				ah=Math.round(ah*2048/4096);
			}
		}
	}
	
	//たいねつ
	if(tokusei.value=="たいねつ" && !tmukou.checked){
		if(stokusei.value!="かたやぶり"){
			if(key4s[1]=="ほのお"){
				ah2=Math.round(ah2*2048/4096);
			}
		}else if(stmukou.checked){
			if(key4s[1]=="ほのお"){
				ah2=Math.round(ah2*2048/4096);
			}
		}
	}
	if(stokusei.value=="たいねつ" && !stmukou.checked){
		if(tokusei.value!="かたやぶり"){
			if(key1s[1]=="ほのお"){
				ah=Math.round(ah*2048/4096);
			}
		}else if(tmukou.checked){
			if(key1s[1]=="ほのお"){
				ah=Math.round(ah*2048/4096);
			}
		}
	}
	
	//すいほう+ほのおタイプの技
	if(tokusei.value=="すいほう" && !tmukou.checked){
		if(stokusei.value!="かたやぶり"){
			if(key4s[1]=="ほのお"){
				ah2=Math.round(ah2*2048/4096);
			}
		}else if(stmukou.checked){
			if(key4s[1]=="ほのお"){
				ah2=Math.round(ah2*2048/4096);
			}
		}
	}
	if(stokusei.value=="すいほう" && !stmukou.checked){
		if(tokusei.value!="かたやぶり"){
			if(key1s[1]=="ほのお"){
				ah=Math.round(ah*2048/4096);
			}
		}else if(tmukou.checked){
			if(key1s[1]=="ほのお"){
				ah=Math.round(ah*2048/4096);
			}
		}
	}
	
	//きよめのしお+ゴーストタイプの技
	if(tokusei.value=="きよめのしお" && !tmukou.checked){
		if(stokusei.value!="かたやぶり"){
			if(key4s[1]=="ゴースト"){
				ah2=Math.round(ah2*2048/4096);
			}
		}else if(stmukou.checked){
			if(key4s[1]=="ゴースト"){
				ah2=Math.round(ah2*2048/4096);
			}
		}
	}
	if(stokusei.value=="きよめのしお" && !stmukou.checked){
		if(tokusei.value!="かたやぶり"){
			if(key1s[1]=="ゴースト"){
				ah=Math.round(ah*2048/4096);
			}
		}else if(tmukou.checked){
			if(key1s[1]=="ゴースト"){
				ah=Math.round(ah*2048/4096);
			}
		}
		
	}
	
	//こだわりハチマキ6144
	if(motimono.value=="こだわりハチマキ"){
		if(key1s[2]=="物理"){
			ah=Math.floor(ah*6144/4096);
		}
	}
	if(smotimono.value=="こだわりハチマキ"){
		if(key4s[2]=="物理"){
			ah2=Math.floor(ah2*6144/4096);
		}
	}
	
	//こだわりメガネ
	if(motimono.value=="こだわりメガネ"){
		if(key1s[2]=="特殊"){
			ah=Math.floor(ah*6144/4096);
		}
	}
	if(smotimono.value=="こだわりメガネ"){
		if(key4s[2]=="特殊"){
			ah2=Math.floor(ah2*6144/4096);
		}
	}
	
	//でんきだま8192
	if(motimono.value=="でんきだま" && name.value=="ピカチュウ"){
		ah=Math.floor(ah*8192/4096);
	}
	if(smotimono.value=="でんきだま" && sname.value=="ピカチュウ"){
		ah2=Math.floor(ah2*8192/4096);
	}
	
	
	//はりきり
	if(tokusei.value=="はりきり" && !tmukou.checked){
		if(key1s[2]=="物理"){
			ah=Math.floor(ah*6144/4096);
		}
	}
	if(stokusei.value=="はりきり" && !stmukou.checked){
		if(key4s[2]=="物理"){
			ah2=Math.floor(ah2*6144/4096);
		}
	}
	
	aa=aa*ah/syoki;
	if(aa-Math.floor(aa)>0.5){
		aa=Math.floor(aa)+1;
	}else{
		aa=Math.floor(aa);
	}
	aa2=aa2*ah2/syoki;
	if(aa-Math.floor(aa2)>0.5){
		aa2=Math.floor(aa2)+1;
	}else{
		aa2=Math.floor(aa2);
	}
	
	var bh=syoki;
	var bh2=syoki;
	//わざわいのたま3072
	if(key5s.indexOf("わざわいのたま")!=-1 || key6s.indexOf("わざわいのたま")!=-1){
		if(key1s[2]=="特殊" && stokusei.value!="わざわいのたま" && waza1_name!="サイコショック" && waza1_name!="サイコブレイク" && waza1_name!="しんぴのつるぎ"){
			bh=Math.round(bh*3072/4096);
		}
		if(key4s[2]=="特殊" && tokusei.value!="わざわいのたま" && waza2_name!="サイコショック" && waza2_name!="サイコブレイク" && waza2_name!="しんぴのつるぎ"){
			bh2=Math.round(bh2*3072/4096);
		}
	}
	
	//わざわいのつるぎ
	if(key5s.indexOf("わざわいのつるぎ")!=-1 || key6s.indexOf("わざわいのつるぎ")!=-1){
		if(key1s[2]=="物理" && stokusei.value!="わざわいのつるぎ"){
			bh=Math.round(bh*3072/4096);
		}
		if(key4s[2]=="物理" && tokusei.value!="わざわいのつるぎ"){
			bh2=Math.round(bh2*3072/4096);
		}
		if(waza1_name=="サイコショック" || waza1_name=="サイコブレイク" || waza1_name=="しんぴのつるぎ"){
			if(stokusei.value!="わざわいのつるぎ"){
				bh=Math.round(bh*3072/4096);
			}
		}
		if(waza2_name=="サイコショック" || waza2_name=="サイコブレイク" || waza2_name=="しんぴのつるぎ"){
			if(tokusei.value!="わざわいのつるぎ"){
				bh2=Math.round(bh2*3072/4096);
			}
		}
	}
	
	//クォークチャージ5325
	//こだいかっせい
	if(tokusei.value=="クォークチャージ" || tokusei.value=="こだいかっせい"){
		if(!tmukou.checked){
			if(stokusei.value!="かたやぶり"){
				if(key4s[2]=="特殊" && tokuseisubc.value=="とくぼう" && waza2_name!="サイコショック" && waza2_name!="サイコブレイク" && waza2_name!="しんぴのつるぎ"){
					bh2=Math.round(bh2*5325/4096);
				}
				if(key4s[2]=="物理" && tokuseisubc.value=="ぼうぎょ"){
					bh2=Math.round(bh2*5325/4096);
				}
				if(waza2_name!="サイコショック" || waza2_name!="サイコブレイク" || waza2_name!="しんぴのつるぎ"){
					if(tokuseisubc.value=="ぼうぎょ"){
						bh2=Math.round(bh2*5325/4096);
					}
				}
			}else if(stmukou.checked){
				if(key4s[2]=="特殊" && tokuseisubc.value=="とくぼう" && waza2_name!="サイコショック" && waza2_name!="サイコブレイク" && waza2_name!="しんぴのつるぎ"){
					bh2=Math.round(bh2*5325/4096);
				}
				if(key4s[2]=="物理" && tokuseisubc.value=="ぼうぎょ"){
					bh2=Math.round(bh2*5325/4096);
				}
				if(waza2_name!="サイコショック" || waza2_name!="サイコブレイク" || waza2_name!="しんぴのつるぎ"){
					if(tokuseisubc.value=="ぼうぎょ"){
						bh2=Math.round(bh2*5325/4096);
					}
				}
			}
		}
	}
	if(stokusei.value=="クォークチャージ" || stokusei.value=="こだいかっせい"){
		if(!stmukou.checked){
			if(tokusei.value!="かたやぶり"){
				if(key1s[2]=="特殊" && stokuseisubc.value=="とくぼう" && waza1_name!="サイコショック" && waza1_name!="サイコブレイク" && waza1_name!="しんぴのつるぎ"){
					bh=Math.round(bh*5325/4096);
				}
				if(key1s[2]=="物理" && stokuseisubc.value=="ぼうぎょ"){
					bh=Math.round(bh*5325/4096);
				}
				if(waza1_name!="サイコショック" || waza1_name!="サイコブレイク" || waza1_name!="しんぴのつるぎ"){
					if(stokuseisubc.value=="ぼうぎょ"){
						bh=Math.round(bh*5325/4096);
					}
				}
			}else if(tmukou.checked){
				if(key1s[2]=="特殊" && stokuseisubc.value=="とくぼう" && waza1_name!="サイコショック" && waza1_name!="サイコブレイク" && waza1_name!="しんぴのつるぎ"){
					bh=Math.round(bh*5325/4096);
				}
				if(key1s[2]=="物理" && stokuseisubc.value=="ぼうぎょ"){
					bh=Math.round(bh*5325/4096);
				}
				if(waza1_name!="サイコショック" || waza1_name!="サイコブレイク" || waza1_name!="しんぴのつるぎ"){
					if(stokuseisubc.value=="ぼうぎょ"){
						bh=Math.round(bh*5325/4096);
					}
				}
			}
		}
	}
	
	//フラワーギフト6144
	//ふしぎなうろこ
	if(stokusei.value=="ふしぎなうろこ" && !stmukou.checked){
		if(tokusei.value!="かたやぶり"){
			if(key1s[2]=="物理" && sijo.value!="通常"){
				bh=Math.round(bh*6144/4096);
			}
		}else if(tmukou.checked){
			if(key1s[2]=="物理" && sijo.value!="通常"){
				bh=Math.round(bh*6144/4096);
			}
		}
	}
	if(tokusei.value=="ふしぎなうろこ" && !tmukou.checked){
		if(stokusei.value!="かたやぶり"){
			if(key4s[2]=="物理" && ijo.value!="通常"){
				bh2=Math.round(bh2*6144/4096);
			}
		}else if(stmukou.checked){
			if(key4s[2]=="物理" && ijo.value!="通常"){
				bh2=Math.round(bh2*6144/4096);
			}
		}
	}
	
	//くさのけがわ
	if(stokusei.value=="くさのけがわ" && !stmukou.checked){
		if(tokusei.value!="かたやぶり"){
			if(key1s[2]=="物理" && firudo.value=="グラスフィールド"){
				bh=Math.round(bh*6144/4096);
			}
		}else if(tmukou.checked){
			if(key1s[2]=="物理" && firudo.value=="グラスフィールド"){
				bh=Math.round(bh*6144/4096);
			}
		}
	}
	if(tokusei.value=="くさのけがわ" && !tmukou.checked){
		if(stokusei.value!="かたやぶり"){
			if(key4s[2]=="物理" && firudo.value=="グラスフィールド"){
				bh2=Math.round(bh2*6144/4096);
			}
		}else if(stmukou.checked){
			if(key4s[2]=="物理" && firudo.value=="グラスフィールド"){
				bh2=Math.round(bh2*6144/4096);
			}
		}
	}
	
	//ファーコート8192
	if(stokusei.value=="ファーコート" && !stmukou.checked){
		if(tokusei.value!="かたやぶり"){
			if(key1s[2]=="物理"){
				bh=Math.round(bh*8192/4096);
			}
		}else if(tmukou.checked){
			if(key1s[2]=="物理"){
				bh=Math.round(bh*8192/4096);
			}
		}
	}
	if(tokusei.value=="ファーコート" && !tmukou.checked){
		if(stokusei.value!="かたやぶり"){
			if(key4s[2]=="物理"){
				bh2=Math.round(bh2*8192/4096);
			}
		}else if(stmukou.checked){
			if(key4s[2]=="物理"){
				bh2=Math.round(bh2*8192/4096);
			}
		}
	}
	
	//しんかのきせき6144
	if(motimono.value=="しんかのきせき"){
		bh2=Math.round(bh2*6144/4096);
	}
	if(smotimono.value=="しんかのきせき"){
		bh=Math.round(bh*6144/4096);
	}
	
	//とつげきチョッキ
	if(motimono.value=="とつげきチョッキ"){
		if(key4s[2]=="特殊" && waza2_name!="サイコショック" && waza2_name!="サイコブレイク" && waza2_name!="しんぴのつるぎ"){
			bh2=Math.round(bh2*6144/4096);
		}
	}
	if(smotimono.value=="とつげきチョッキ"){
		if(key1s[2]=="特殊" && waza1_name!="サイコショック" && waza1_name!="サイコブレイク" && waza1_name!="しんぴのつるぎ"){
			bh=Math.round(bh*6144/4096);
		}
	}
	
	//しんかいのウロコ8192
	//メタルパウダー
	
	dd=dd*bh/syoki;
	if(dd-Math.floor(dd)>0.5){
		dd=Math.floor(dd)+1;
	}else{
		dd=Math.floor(dd);
	}
	dd2=dd2*bh2/syoki;
	if(dd-Math.floor(dd2)>0.5){
		aa2=Math.floor(dd2)+1;
	}else{
		dd2=Math.floor(dd2);
	}
	
	var kyu=4096;
	var kyu2=4096;
	if(kyuusyo.checked){
		kyu=kyu*1.5;
		if(tokusei.value=="スナイパー" && !tmukou.checked){
			m1[1]=1.5;
		}
	}
	if(skyuusyo.checked){
		kyu2=kyu2*1.5;
		if(stokusei.value=="スナイパー" && !stmukou.checked){
			m2[1]=1.5;
		}
	}
	
	var ai=1;
	big=[];
	big.push(1)
	if(sterasu.value!="ステラ" && sterasu.value!="なし"){
		key3s=[];
		key3s.push(sterasu.value)
	}
	if(key1s[1]=="ノーマル"){
		if(key3s.indexOf("ゴースト")!=-1){
			if(smotimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				if(tokusei.value=="きもったま" || tokusei.value=="しんがん"){
					if(tmukou.checked){
						big.push(0)
					}else{
						big.push(1)
					}
				}else{
					big.push(0)
				}
			}
		}
		if(smotimono.value=="ボズのみ"){
			if(tokusei.value!="きんちょうかん"){
				m1[10]=0.5*m1[10];
			}else if(tmukou.checked){
				m1[10]=0.5*m1[10];
			}
		}
	}else if(key1s[1]=="みず"){
		if(stokusei.value=="よびみず" || stokusei.value=="ちょすい" || stokusei.value=="かんそうはだ"){
			if(!stmukou.checked){
				if(tokusei.value!="かたやぶり"){
					big.push(0)
				}else if(tmukou.checked){
					big.push(0)
				}
			}
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("みず")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("くさ")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("じめん")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("いわ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("ドラゴン")!=-1){
			big.push(0.5)
		}
	}else if(key1s[1]=="ほのお"){
		if(stokusei.value=="こんがりボディ" || stokusei.value=="もらいび"){
			if(!stmukou.checked){
				if(tokusei.value!="かたやぶり"){
					big.push(0)
				}else if(tmukou.checked){
					big.push(0)
				}
			}
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("みず")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("いわ")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ドラゴン")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("こおり")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("むし")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(2)
		}
		if(stokusei.value=="もふもふ"){
			if(!stmukou.checked){
				if(tokusei.value!="かたやぶり"){
					m1[3]=2*m1[3];
				}else if(tmukou.checked){
					m1[3]=2*m1[3];
				}
			}
		}
		if(key6s.indexOf("タールショット")!=-1 && sterasu.value=="なし"){
			big.push(2)
		}
	}else if(key1s[1]=="くさ"){
		if(stokusei.value=="そうしょく"){
			if(stmukou.checked==false){
				if(tokusei.value!="かたやぶり"){
					big.push(0)
				}else if(tmukou.checked){
					big.push(0)
				}
			}
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("くさ")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ひこう")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("むし")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ドラゴン")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("みず")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("じめん")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("いわ")!=-1){
			big.push(2)
		}
	}else if(key1s[1]=="でんき"){
		if(stokusei.value=="ちくでん" || stokusei.value=="ひらいしん" || stokusei.value=="でんきエンジン"){
			if(!stmukou.checked){
				if(tokusei.value!="かたやぶり"){
					big.push(0)
				}else if(tmukou.checked){
					big.push(0)
				}
			}
		}
		if(key3s.indexOf("みず")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("ひこう")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("でんき")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("くさ")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ドラゴン")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("じめん")!=-1){
			if(smotimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
	}else if(key1s[1]=="こおり"){
		if(key3s.indexOf("みず")!=-1 && waza1_name=="フリーズドライ"){
			big.push(2)
		}else if(key3s.indexOf("みず")!=-1 && waza1_name!="フリーズドライ"){
			big.push(0.5)
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("こおり")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("じめん")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("ひこう")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("ドラゴン")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
	}else if(key1s[1]=="かくとう"){
		if(key3s.indexOf("ゴースト")!=-1){
			if(smotimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				if(tokusei.value=="きもったま" || tokusei.value=="しんがん"){
					if(tmukou.checked){
						big.push(0)
					}else{
						big.push(1)
					}
				}else{
					big.push(0)
				}
			}
		}
		if(key3s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ひこう")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("エスパー")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("むし")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("フェアリー")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ノーマル")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("こおり")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("いわ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("あく")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(2)
		}
		if(waza1_name=="フライングプレス"){
			if(key3s.indexOf("くさ")!=-1){
				big.push(2)
			}
			if(key3s.indexOf("かくとう")!=-1){
				big.push(2)
			}
			if(key3s.indexOf("むし")!=-1){
				big.push(2)
			}
			if(key3s.indexOf("でんき")!=-1){
				big.push(0.5)
			}
			if(key3s.indexOf("いわ")!=-1){
				big.push(0.5)
			}
			if(key3s.indexOf("はがね")!=-1){
				big.push(0.5)
			}
		}
	}else if(key1s[1]=="どく"){
		if(key3s.indexOf("はがね")!=-1){
			if(smotimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(key3s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("フェアリー")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("じめん")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("いわ")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ゴースト")!=-1){
			big.push(0.5)
		}
	}else if(key1s[1]=="じめん"){
		if(key3s.indexOf("ひこう")!=-1){
			if(smotimono.value=="ねらいのまと" || smotimono.value=="くろいてっきゅう"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(stokusei.value=="ふゆう" || stokusei.value=="どしょく"){
			if(!stmukou.checked){
				if(tokusei.value!="かたやぶり"){
					big.push(0)
				}else if(tmukou.checked){
					big.push(0)
				}
			}
		}
		if(smotimono.value=="ふうせん"){
			big.push(0)
		}
		if(key3s.indexOf("くさ")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("むし")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("でんき")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("どく")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("いわ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(2)
		}
	}else if(key1s[1]=="ひこう"){
		if(key3s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("かくとう")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("むし")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("でんき")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("いわ")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
	}else if(key1s[1]=="エスパー"){
		if(key3s.indexOf("あく")!=-1){
			if(smotimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("エスパー")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("かくとう")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("どく")!=-1){
			big.push(2)
		}
	}else if(key1s[1]=="むし"){
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("かくとう")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ひこう")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ゴースト")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("フェアリー")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("エスパー")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("あく")!=-1){
			big.push(2)
		}
	}else if(key1s[1]=="いわ"){
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("かくとう")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("じめん")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("こおり")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("ひこう")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("むし")!=-1){
			big.push(2)
		}
	}else if(key1s[1]=="ゴースト"){
		if(key3s.indexOf("ノーマル")!=-1){
			if(smotimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(key3s.indexOf("ゴースト")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("エスパー")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("あく")!=-1){
			big.push(0.5)
		}
	}else if(key1s[1]=="ドラゴン"){
		if(key3s.indexOf("フェアリー")!=-1){
			if(smotimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ドラゴン")!=-1){
			big.push(2)
		}
	}else if(key1s[1]=="あく"){
		if(key3s.indexOf("エスパー")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("ゴースト")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("かくとう")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("あく")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("フェアリー")!=-1){
			big.push(0.5)
		}
	}else if(key1s[1]=="はがね"){
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("みず")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("でんき")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("いわ")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("こおり")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("フェアリー")!=-1){
			big.push(2)
		}
	}else if(key1s[1]=="フェアリー"){
		if(key3s.indexOf("かくとう")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("ドラゴン")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("あく")!=-1){
			big.push(2)
		}
		if(key3s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key3s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
	}
	
	for(i of big){
		ai=ai*i;
	}
	
	var ai2=1;
	big=[];
	big.push(1)
	if(terasu.value!="ステラ" && terasu.value!="なし"){
		key2s=[];
		key2s.push(terasu.value)
	}
	if(key4s[1]=="ノーマル"){
		if(key2s.indexOf("ゴースト")!=-1){
			if(motimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				if(stokusei.value=="きもったま" || stokusei.value=="しんがん"){
					if(stmukou.checked){
						big.push(0)
					}else{
						big.push(1)
					}
				}else{
					big.push(0)
				}
			}
		}
		if(motimono.value=="ボズのみ"){
			if(stokusei.value!="きんちょうかん"){
				m2[10]=0.5*m2[10];
			}else if(stmukou.checked){
				m2[10]=0.5*m2[10];
			}
		}
	}else if(key4s[1]=="みず"){
		if(tokusei.value=="よびみず" || tokusei.value=="ちょすい" || tokusei.value=="かんそうはだ"){
			if(!tmukou.checked){
				if(stokusei.value!="かたやぶり"){
					big.push(0)
				}else if(stmukou.checked){
					big.push(0)
				}
			}
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("みず")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("くさ")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("じめん")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("いわ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("ドラゴン")!=-1){
			big.push(0.5)
		}
	}else if(key4s[1]=="ほのお"){
		if(tokusei.value=="こんがりボディ" || tokusei.value=="もらいび"){
			if(!tmukou.checked){
				if(stokusei.value!="かたやぶり"){
					big.push(0)
				}else if(stmukou.checked){
					big.push(0)
				}
			}
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("みず")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("いわ")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ドラゴン")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("こおり")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("むし")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(2)
		}
		if(tokusei.value=="もふもふ"){
			if(!tmukou.checked){
				if(stokusei.value!="かたやぶり"){
					m2[3]=2*m2[3];
				}else if(stmukou.checked){
					m2[3]=2*m2[3];
				}
			}
		}
		if(key5s.indexOf("タールショット")!=-1 && terasu.value=="なし"){
			big.push(2)
		}
	}else if(key4s[1]=="くさ"){
		if(tokusei.value=="そうしょく"){
			if(!tmukou.checked){
				if(stokusei.value!="かたやぶり"){
					big.push(0)
				}else if(stmukou.checked){
					big.push(0)
				}
			}
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("くさ")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ひこう")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("むし")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ドラゴン")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("みず")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("じめん")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("いわ")!=-1){
			big.push(2)
		}
	}else if(key4s[1]=="でんき"){
		if(stokusei.value=="ちくでん" || stokusei.value=="ひらいしん" || stokusei.value=="でんきエンジン"){
			if(!tmukou.checked){
				if(stokusei.value!="かたやぶり"){
					big.push(0)
				}else if(stmukou.checked){
					big.push(0)
				}
			}
		}
		if(key2s.indexOf("みず")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("ひこう")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("でんき")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("くさ")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ドラゴン")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("じめん")!=-1){
			if(smotimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
	}else if(key4s[1]=="こおり"){
		if(key2s.indexOf("みず")!=-1 && waza2_name=="フリーズドライ"){
			big.push(2)
		}else if(key2s.indexOf("みず")!=-1 && waza2_name!="フリーズドライ"){
			big.push(0.5)
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("こおり")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("じめん")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("ひこう")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("ドラゴン")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
	}else if(key4s[1]=="かくとう"){
		if(key2s.indexOf("ゴースト")!=-1){
			if(motimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				if(stokusei.value=="きもったま" || stokusei.value=="しんがん"){
					if(stmukou.checked){
						big.push(0)
					}else{
						big.push(1)
					}
				}else{
					big.push(0)
				}
			}
		}
		if(key2s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ひこう")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("エスパー")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("むし")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("フェアリー")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ノーマル")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("こおり")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("いわ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("あく")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(2)
		}
		if(waza2_name=="フライングプレス"){
			if(key2s.indexOf("くさ")!=-1){
				big.push(2)
			}
			if(key2s.indexOf("かくとう")!=-1){
				big.push(2)
			}
			if(key2s.indexOf("むし")!=-1){
				big.push(2)
			}
			if(key2s.indexOf("でんき")!=-1){
				big.push(0.5)
			}
			if(key2s.indexOf("いわ")!=-1){
				big.push(0.5)
			}
			if(key2s.indexOf("はがね")!=-1){
				big.push(0.5)
			}
		}
	}else if(key4s[1]=="どく"){
		if(key2s.indexOf("はがね")!=-1){
			if(motimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(key2s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("フェアリー")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("じめん")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("いわ")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ゴースト")!=-1){
			big.push(0.5)
		}
	}else if(key4s[1]=="じめん"){
		if(key2s.indexOf("ひこう")!=-1){
			if(smotimono.value=="ねらいのまと" || smotimono.value=="くろいてっきゅう"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(tokusei.value=="ふゆう" || tokusei.value=="どしょく"){
			if(!tmukou.checked){
				if(stokusei.value!="かたやぶり"){
					big.push(0)
				}else if(stmukou.checked){
					big.push(0)
				}
			}
		}
		if(motimono.value=="ふうせん"){
			big.push(0)
		}
		if(key2s.indexOf("くさ")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("むし")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("でんき")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("どく")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("いわ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(2)
		}
	}else if(key4s[1]=="ひこう"){
		if(key2s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("かくとう")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("むし")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("でんき")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("いわ")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
	}else if(key4s[1]=="エスパー"){
		if(key2s.indexOf("あく")!=-1){
			if(motimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("エスパー")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("かくとう")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("どく")!=-1){
			big.push(2)
		}
	}else if(key4s[1]=="むし"){
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("かくとう")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ひこう")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ゴースト")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("フェアリー")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("くさ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("エスパー")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("あく")!=-1){
			big.push(2)
		}
	}else if(key4s[1]=="いわ"){
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("かくとう")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("じめん")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("こおり")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("ひこう")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("むし")!=-1){
			big.push(2)
		}
	}else if(key4s[1]=="ゴースト"){
		if(key2s.indexOf("ノーマル")!=-1){
			if(motimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(key2s.indexOf("ゴースト")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("エスパー")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("あく")!=-1){
			big.push(0.5)
		}
	}else if(key4s[1]=="ドラゴン"){
		if(key2s.indexOf("フェアリー")!=-1){
			if(motimono.value=="ねらいのまと"){
				big.push(1)
			}else{
				big.push(0)
			}
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ドラゴン")!=-1){
			big.push(2)
		}
	}else if(key4s[1]=="あく"){
		if(key2s.indexOf("エスパー")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("ゴースト")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("かくとう")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("あく")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("フェアリー")!=-1){
			big.push(0.5)
		}
	}else if(key4s[1]=="はがね"){
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("みず")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("でんき")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("いわ")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("こおり")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("フェアリー")!=-1){
			big.push(2)
		}
	}else if(key4s[1]=="フェアリー"){
		if(key2s.indexOf("かくとう")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("ドラゴン")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("あく")!=-1){
			big.push(2)
		}
		if(key2s.indexOf("どく")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("ほのお")!=-1){
			big.push(0.5)
		}
		if(key2s.indexOf("はがね")!=-1){
			big.push(0.5)
		}
	}
	
	for(i of big){
		ai2=ai2*i;
	}
	
	if(ai<1){
		if(tokusei.value=="いろめがね" && !tmukou.checked){
			m1[2]=2*syoki;
		}
	}
	
	if(ai2<1){
		if(stokusei.value=="いろめがね" && !stmukou.checked){
			m2[2]=2*syoki;
		}
	}
	
	if(ai>1){
		if(stokusei.value=="プリズムアーマー" && !stmukou.checked){
			m1[5]=0.75*m1[5];
		}else if(stokusei.value=="フィルター" && !stmukou.checked){
			if(tokusei.value!="かたやぶり"){
				m1[5]=0.75*m1[5];
			}else if(tmukou.checked){
				m1[5]=0.75*m1[5];
			}
		}else if(stokusei.value=="ハードロック" && !stmukou.checked){
			if(tokusei.value!="かたやぶり"){
				m1[5]=0.75*m1[5];
			}else if(tmukou.checked){
				m1[5]=0.75*m1[5];
			}
		}
		if(motimono.value=="たつじんのおび"){
			m1[7]=4915;
		}
		if(smotimono.value=="半減きのみ"){
			if(tokusei.value!="きんちょうかん"){
				m1[10]=0.5*m1[10];
			}else if(tmukou.checked){
				m1[10]=0.5*m1[10];
			}
		}
	}
	if(ai2>1){
		if(tokusei.value=="プリズムアーマー" && !tmukou.checked){
			m2[5]=0.75*m2[5];
		}else if(tokusei.value=="フィルター" && !tmukou.checked){
			if(stokusei.value!="かたやぶり"){
				m2[5]=0.75*m2[5];
			}else if(stmukou.checked){
				m2[5]=0.75*m2[5];
			}
		}else if(tokusei.value=="ハードロック" && !tmukou.checked){
			if(stokusei.value!="かたやぶり"){
				m2[5]=0.75*m2[5];
			}else if(stmukou.checked){
				m2[5]=0.75*m2[5];
			}
		}
		if(smotimono.value=="たつじんのおび"){
			m2[7]=4915;
		}
		if(motimono.value=="半減きのみ"){
			if(stokusei.value!="きんちょうかん"){
				m2[10]=0.5*m2[10];
			}else if(stmukou.checked){
				m2[10]=0.5*m2[10];
			}
		}
	}
	if(waza1_name=="じしん" || waza1_name=="なみのり" || waza1_name=="ふみつけ" || waza1_name=="ドラゴンダイブ" || waza1_name=="ヒートスタンプ" || waza1_name=="ヘビーボンバー" || waza1_name=="フライングプレス"){
		if(subuc.checked){
			m1[11]=8192;
		}
	}
	if(waza2_name=="じしん" || waza2_name=="なみのり" || waza2_name=="ふみつけ" || waza2_name=="ドラゴンダイブ" || waza2_name=="ヒートスタンプ" || waza2_name=="ヘビーボンバー" || waza2_name=="フライングプレス"){
		if(ssubuc.checked){
			m2[11]=8192;
		}
	}

	if(motimono.value=="メトロノーム"){
		if(nomu.value==6){
			m1[8]=8192;
		}else if(nomu.value==2){
			m1[8]=4915;
		}else if(nomu.value==3){
			m1[8]=5734;
		}else if(nomu.value==4){
			m1[8]=6553;
		}else if(nomu.value==5){
			m1[8]=7372;
		}else{
			m1[8]=syoki;
		}
	}
	if(smotimono.value=="メトロノーム"){
		if(snomu.value==6){
			m2[8]=8192;
		}else if(snomu.value==2){
			m2[8]=4915;
		}else if(snomu.value==3){
			m2[8]=5734;
		}else if(snomu.value==4){
			m2[8]=6553;
		}else if(snomu.value==5){
			m2[8]=7372;
		}else{
			m2[8]=syoki;
		}
	}
	
	if(motimono.value=="いのちのたま"){
		m1[9]=5324;
	}
	if(smotimono.value=="いのちのたま"){
		m2[9]=5324;
	}
	
	var yak=4096;
	if(key1s[2]=="物理" && ijo.value=="やけど" && waza1_name!="からげんき"){
		if(tokusei.value=="こんじょう"){
			if(!tmukou.checked){
				yak=yak;
			}else{
				yak=0.5*yak;
			}
		}else{
			yak=0.5*yak;
		}
	}
	var yak2=4096;
	if(key4s[2]=="物理" && sijo.value=="やけど" && waza2_name!="からげんき"){
		if(stokusei.value=="こんじょう"){
			if(!stmukou.checked){
				yak2=yak2;
			}else{
				yak2=0.5*yak2;
			}
		}else{
			yak2=0.5*yak2;
		}
	}
	
	newArr=Math.floor(Math.floor(Math.floor(level1*2/5+2)*iry*aa/dd)/50+2);
	
	newArr=han*newArr/syoki;
	if(newArr-Math.floor(newArr)>0.5){
		newArr=Math.floor(newArr)+1;
	}else{
		newArr=Math.floor(newArr);
	}
	
	newArr=ten*newArr/syoki;
	if(newArr-Math.floor(newArr)>0.5){
		newArr=Math.floor(newArr)+1;
	}else{
		newArr=Math.floor(newArr);
	}
	
	newArr=kyu*newArr/syoki;
	if(newArr-Math.floor(newArr)>0.5){
		newArr=Math.floor(newArr)+1;
	}else{
		newArr=Math.floor(newArr);
	}
	
	elem=[]
	for(i=85;i<=100;i++){
		idx=Math.floor(newArr*i/100)
		
		idx=idx*tai/syoki
		if(idx-Math.floor(idx)>0.5){
			idx=Math.floor(idx)+1;
		}else{
			idx=Math.floor(idx);
		}
		
		idx=Math.floor(idx*ai)
		
		idx=idx*yak/syoki
		if(idx-Math.floor(idx)>0.5){
			idx=Math.floor(idx)+1;
		}else{
			idx=Math.floor(idx);
		}
		for(m of m1){
			idx=Math.round(idx*m/syoki);
		}
		elem.push(idx)
	}
	if(waza1_name=="ナイトヘッド" || waza1_name=="ちきゅうなげ" || waza1_name=="いのちがけ"){
		elem=[]
		for(i=85;i<=100;i++){
			elem.push(iry3)
		}
	}
	
	dametai="あきらめて";
	v_z_h=Number(sz_h.value);
	kakutei=Math.round(elem[0]/v_z_h*100*Math.pow( 10, 2 ))/Math.pow( 10, 2 );
	
	ransuu=Math.round(elem[15]/v_z_h*100*Math.pow( 10, 2 ))/Math.pow( 10, 2 );
	for(i=1;i<=20;i++){
		if(elem[15]*i>=v_z_h){
			if(elem[0]*i>=v_z_h){
				dametai="確"+String(i)+" ( "+String(elem[0])+" - "+String(elem[15])+" )";
			}else{
				dametai="乱"+String(i)+" ( "+String(elem[0])+" - "+String(elem[15])+" )";
			}
			break;
		}
	}
	if(kakutei>100){
		kakutei=100;
	}if(ransuu>100){
		ransuu=100;
	}
	dummy=100-ransuu;
	ransuu=ransuu-kakutei;
	
	myChartSt = new Chart(ctx, {
    	type: "horizontalBar",
    	data:{
    		labels: ['ダメージ結果',],
    		datasets: [
    			{
    				label: '確定',
    				data: [kakutei,],
    				backgroundColor: "rgba(219,39,91,0.5)"
    			},
    			{
    				label: '乱数',
    				data: [ransuu,],
    				backgroundColor: "rgba(255, 204, 153,0.5)"
    			},
    			{
    				label: 'ダミー',
    				data: [dummy,],
    				backgroundColor: "rgba(255, 204, 153, 0.0)"
    			}
    		]
    	},
    	options: {
    		title: {
    			display: true,
    			text: dametai
    		},
    		scales: {
    			xAxes: [
    				{
    					stacked: true,
    					beginAtZero:true,//0からスタート
						suggestedMax: 100,//最大が100
						suggestedMin: 0,//最小が0
    					ticks:{
							callback: function(value){
								return  value +  '%'
							}
						}
					}
				],
				yAxes: [
					{
						stacked: true
					}
				]
			},
			legend: {
				display: false
			},
			tooltips: {
				enabled: false
			},
			responsive: true,

			maintainAspectRatio: false
    	}
    });
    
    newArr=Math.floor(Math.floor(Math.floor(level2*2/5+2)*iry2*aa2/dd2)/50+2);
	
	newArr=han2*newArr/syoki;
	if(newArr-Math.floor(newArr)>0.5){
		newArr=Math.floor(newArr)+1;
	}else{
		newArr=Math.floor(newArr);
	}
	
	newArr=ten2*newArr/syoki;
	if(newArr-Math.floor(newArr)>0.5){
		newArr=Math.floor(newArr)+1;
	}else{
		newArr=Math.floor(newArr);
	}
	
	newArr=kyu2*newArr/syoki;
	if(newArr-Math.floor(newArr)>0.5){
		newArr=Math.floor(newArr)+1;
	}else{
		newArr=Math.floor(newArr);
	}
	
	elem=[]
	for(i=85;i<=100;i++){
		idx=Math.floor(newArr*i/100)
		
		idx=idx*tai2/syoki
		if(idx-Math.floor(idx)>0.5){
			idx=Math.floor(idx)+1;
		}else{
			idx=Math.floor(idx);
		}
		
		idx=Math.floor(idx*ai2)
		
		idx=idx*yak2/syoki
		if(idx-Math.floor(idx)>0.5){
			idx=Math.floor(idx)+1;
		}else{
			idx=Math.floor(idx);
		}
		for(m of m2){
			idx=Math.round(idx*m/syoki);
		}
		elem.push(idx)
	}
	if(waza2_name=="ナイトヘッド" || waza2_name=="ちきゅうなげ" || waza2_name=="いのちがけ"){
		elem=[]
		for(i=85;i<=100;i++){
			elem.push(iry4)
		}
	}
	
	dametai="あきらめて";
	v_z_h=Number(z_h.value);
	kakutei=Math.round(elem[0]/v_z_h*100*Math.pow( 10, 2 ))/Math.pow( 10, 2 );
	
	ransuu=Math.round(elem[15]/v_z_h*100*Math.pow( 10, 2 ))/Math.pow( 10, 2 );
	for(i=1;i<=20;i++){
		if(elem[15]*i>=v_z_h){
			if(elem[0]*i>=v_z_h){
				dametai="確"+String(i)+" ( "+String(elem[0])+" - "+String(elem[15])+" )";
			}else{
				dametai="乱"+String(i)+" ( "+String(elem[0])+" - "+String(elem[15])+" )";
			}
			break;
		}
	}
	if(kakutei>100){
		kakutei=100;
	}if(ransuu>100){
		ransuu=100;
	}
	dummy=100-ransuu;
	ransuu=ransuu-kakutei;
	
	smyChartSt = new Chart(sctx, {
    	type: "horizontalBar",
    	data:{
    		labels: ['ダメージ結果',],
    		datasets: [
    			{
    				label: '確定',
    				data: [kakutei,],
    				backgroundColor: "rgba(219,39,91,0.5)"
    			},
    			{
    				label: '乱数',
    				data: [ransuu,],
    				backgroundColor: "rgba(255, 204, 153,0.5)"
    			},
    			{
    				label: 'ダミー',
    				data: [dummy,],
    				backgroundColor: "rgba(255, 204, 153, 0.0)"
    			}
    		]
    	},
    	options: {
    		title: {
    			display: true,
    			text: dametai
    		},
    		scales: {
    			xAxes: [
    				{
    					stacked: true,
    					beginAtZero:true,//0からスタート
						suggestedMax: 100,//最大が100
						suggestedMin: 0,//最小が0
    					ticks:{
							callback: function(value){
								return  value +  '%'
							}
						}
					}
				],
				yAxes: [
					{
						stacked: true
					}
				]
			},
			legend: {
				display: false
			},
			tooltips: {
				enabled: false
			},
			responsive: true,

			maintainAspectRatio: false
    	}
    });
}
